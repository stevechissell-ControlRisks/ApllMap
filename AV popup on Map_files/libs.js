function getParameterByName(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null==n?"":decodeURIComponent(n[1].replace(/\+/g," "))}!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){if(!e.support.cors&&e.ajaxTransport&&window.XDomainRequest){var t=/^https?:\/\//i,n=/^get|post$/i,i=new RegExp("^"+location.protocol,"i");e.ajaxTransport("* text html xml json",function(o,r,s){if(o.crossDomain&&o.async&&n.test(o.type)&&t.test(o.url)&&i.test(o.url)){var a=null;return{send:function(t,n){var i="",s=(r.dataType||"").toLowerCase();a=new XDomainRequest,/^\d+$/.test(r.timeout)&&(a.timeout=r.timeout),a.ontimeout=function(){n(500,"timeout")},a.onload=function(){var t="Content-Length: "+a.responseText.length+"\r\nContent-Type: "+a.contentType,i={code:200,message:"success"},o={text:a.responseText};try{if("html"===s||/text\/html/i.test(a.contentType))o.html=a.responseText;else if("json"===s||"text"!==s&&/\/json/i.test(a.contentType))try{o.json=e.parseJSON(a.responseText)}catch(r){i.code=500,i.message="parseerror"}else if("xml"===s||"text"!==s&&/\/xml/i.test(a.contentType)){var u=new ActiveXObject("Microsoft.XMLDOM");u.async=!1;try{u.loadXML(a.responseText)}catch(r){u=void 0}if(!u||!u.documentElement||u.getElementsByTagName("parsererror").length)throw i.code=500,i.message="parseerror","Invalid XML: "+a.responseText;o.xml=u}}catch(l){throw l}finally{n(i.code,i.message,o,t)}},a.onprogress=function(){},a.onerror=function(){n(500,"error",{text:a.responseText})},r.data&&(i="string"===e.type(r.data)?r.data:e.param(r.data)),a.open(o.type,o.url),a.send(i)},abort:function(){a&&a.abort()}}}})}}),Date.isLeapYear=function(e){return e%4===0&&e%100!==0||e%400===0},Date.getDaysInMonth=function(e,t){return[31,Date.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return e%4===0&&e%100!==0||e%400===0},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.addMonths=function(e){var t=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+e),this.setDate(Math.min(t,this.getDaysInMonth())),this},Date.prototype.addDays=function(e){return this.setDate(this.getDate()+parseInt(e)),this},Date.prototype.isFirstDayOfTheMonth=function(){return 1===this.getDate()?!0:!1},Date.prototype.isLastDayOfTheMonth=function(){var e=this.getDaysInMonth(),t=this.getDate();return e==t?!0:!1},Date.prototype.isFirstDayOfTheYear=function(){var e=this.formatDate(new Date(this.getFullYear(),0,1)),t=this.formatDate(this);return t.getTime()===e.getTime()?!0:!1},Date.prototype.isLastDayOfTheYear=function(){var e=this.formatDate(new Date(this.getFullYear(),11,31)),t=this.formatDate(this);return t===e?!0:!1},Date.prototype.monthDiff=function(e,t){var n;return n=12*(t.getFullYear()-e.getFullYear()),n-=e.getMonth()+1,n+=t.getMonth(),0>=n?0:n},Date.prototype.formatDate=function(e){var t=new Date(e);return t.setHours(0,0,0,0),t},function(){!function(e){var t=this||(0,eval)("this"),n=t.document,i=t.navigator,o=t.jQuery,r=t.JSON;!function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(module.exports||exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.ko={})}(function(s){function a(e,t){return null===e||typeof e in d?e===t:!1}function u(t,n){var i;return function(){i||(i=setTimeout(function(){i=e,t()},n))}}function l(e,t){var n;return function(){clearTimeout(n),n=setTimeout(e,t)}}function c(e,t,n,i){h.d[e]={init:function(e,o,r,s,a){var u,l;return h.ba(function(){var r=h.a.c(o()),s=!n!=!r,c=!l;(c||t||s!==u)&&(c&&h.ca.fa()&&(l=h.a.lb(h.e.childNodes(e),!0)),s?(c||h.e.U(e,h.a.lb(l)),h.gb(i?i(a,r):a,e)):h.e.da(e),u=s)},null,{G:e}),{controlsDescendantBindings:!0}}},h.g.aa[e]=!1,h.e.Q[e]=!0}var h="undefined"!=typeof s?s:{};h.b=function(e,t){for(var n=e.split("."),i=h,o=0;o<n.length-1;o++)i=i[n[o]];i[n[n.length-1]]=t},h.s=function(e,t,n){e[t]=n},h.version="3.1.0",h.b("version",h.version),h.a=function(){function s(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function a(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function u(e,t){return e.__proto__=t,e}var l={__proto__:[]}instanceof Array,c={},d={};c[i&&/Firefox\/2/i.test(i.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],c.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),s(c,function(e,t){if(t.length)for(var n=0,i=t.length;i>n;n++)d[t[n]]=e});var f={propertychange:!0},p=n&&function(){for(var t=3,i=n.createElement("div"),o=i.getElementsByTagName("i");i.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",o[0];);return t>4?t:e}();return{mb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],r:function(e,t){for(var n=0,i=e.length;i>n;n++)t(e[n],n)},l:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},hb:function(e,t,n){for(var i=0,o=e.length;o>i;i++)if(t.call(n,e[i],i))return e[i];return null},ma:function(e,t){var n=h.a.l(e,t);n>0?e.splice(n,1):0===n&&e.shift()},ib:function(e){e=e||[];for(var t=[],n=0,i=e.length;i>n;n++)0>h.a.l(t,e[n])&&t.push(e[n]);return t},ya:function(e,t){e=e||[];for(var n=[],i=0,o=e.length;o>i;i++)n.push(t(e[i],i));return n},la:function(e,t){e=e||[];for(var n=[],i=0,o=e.length;o>i;i++)t(e[i],i)&&n.push(e[i]);return n},$:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,i=t.length;i>n;n++)e.push(t[n]);return e},Y:function(e,t,n){var i=h.a.l(h.a.Sa(e),t);0>i?n&&e.push(t):n||e.splice(i,1)},na:l,extend:a,ra:u,sa:l?u:a,A:s,Oa:function(e,t){if(!e)return e;var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=t(e[n],n,e));return i},Fa:function(e){for(;e.firstChild;)h.removeNode(e.firstChild)},ec:function(e){e=h.a.R(e);for(var t=n.createElement("div"),i=0,o=e.length;o>i;i++)t.appendChild(h.M(e[i]));return t},lb:function(e,t){for(var n=0,i=e.length,o=[];i>n;n++){var r=e[n].cloneNode(!0);o.push(t?h.M(r):r)}return o},U:function(e,t){if(h.a.Fa(e),t)for(var n=0,i=t.length;i>n;n++)e.appendChild(t[n])},Bb:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var i=n[0],o=i.parentNode,r=0,s=t.length;s>r;r++)o.insertBefore(t[r],i);for(r=0,s=n.length;s>r;r++)h.removeNode(n[r])}},ea:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.shift();if(1<e.length){var n=e[0],i=e[e.length-1];for(e.length=0;n!==i;)if(e.push(n),n=n.nextSibling,!n)return;e.push(i)}}return e},Db:function(e,t){7>p?e.setAttribute("selected",t):e.selected=t},ta:function(t){return null===t||t===e?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},oc:function(e,t){for(var n=[],i=(e||"").split(t),o=0,r=i.length;r>o;o++){var s=h.a.ta(i[o]);""!==s&&n.push(s)}return n},kc:function(e,t){return e=e||"",t.length>e.length?!1:e.substring(0,t.length)===t},Sb:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},Ea:function(e){return h.a.Sb(e,e.ownerDocument.documentElement)},eb:function(e){return!!h.a.hb(e,h.a.Ea)},B:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},q:function(e,t,n){var i=p&&f[t];if(!i&&o)o(e).bind(t,n);else if(i||"function"!=typeof e.addEventListener){if("undefined"==typeof e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var r=function(t){n.call(e,t)},s="on"+t;e.attachEvent(s,r),h.a.u.ja(e,function(){e.detachEvent(s,r)})}else e.addEventListener(t,n,!1)},ha:function(e,i){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var r;if("input"===h.a.B(e)&&e.type&&"click"==i.toLowerCase()?(r=e.type,r="checkbox"==r||"radio"==r):r=!1,o&&!r)o(e).trigger(i);else if("function"==typeof n.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");r=n.createEvent(d[i]||"HTMLEvents"),r.initEvent(i,!0,!0,t,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(r)}else if(r&&e.click)e.click();else{if("undefined"==typeof e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+i)}},c:function(e){return h.v(e)?e():e},Sa:function(e){return h.v(e)?e.o():e},ua:function(e,t,n){if(t){var i=/\S+/g,o=e.className.match(i)||[];h.a.r(t.match(i),function(e){h.a.Y(o,e,n)}),e.className=o.join(" ")}},Xa:function(t,n){var i=h.a.c(n);(null===i||i===e)&&(i="");var o=h.e.firstChild(t);!o||3!=o.nodeType||h.e.nextSibling(o)?h.e.U(t,[t.ownerDocument.createTextNode(i)]):o.data=i,h.a.Vb(t)},Cb:function(e,t){if(e.name=t,7>=p)try{e.mergeAttributes(n.createElement("<input name='"+e.name+"'/>"),!1)}catch(i){}},Vb:function(e){p>=9&&(e=1==e.nodeType?e:e.parentNode,e.style&&(e.style.zoom=e.style.zoom))},Tb:function(e){if(p){var t=e.style.width;e.style.width=0,e.style.width=t}},ic:function(e,t){e=h.a.c(e),t=h.a.c(t);for(var n=[],i=e;t>=i;i++)n.push(i);return n},R:function(e){for(var t=[],n=0,i=e.length;i>n;n++)t.push(e[n]);return t},mc:6===p,nc:7===p,oa:p,ob:function(e,t){for(var n=h.a.R(e.getElementsByTagName("input")).concat(h.a.R(e.getElementsByTagName("textarea"))),i="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},o=[],r=n.length-1;r>=0;r--)i(n[r])&&o.push(n[r]);return o},fc:function(e){return"string"==typeof e&&(e=h.a.ta(e))?r&&r.parse?r.parse(e):new Function("return "+e)():null},Ya:function(e,t,n){if(!r||!r.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return r.stringify(h.a.c(e),t,n)},gc:function(e,t,i){i=i||{};var o=i.params||{},r=i.includeFields||this.mb,a=e;if("object"==typeof e&&"form"===h.a.B(e))for(var a=e.action,u=r.length-1;u>=0;u--)for(var l=h.a.ob(e,r[u]),c=l.length-1;c>=0;c--)o[l[c].name]=l[c].value;t=h.a.c(t);var d=n.createElement("form");d.style.display="none",d.action=a,d.method="post";for(var f in t)e=n.createElement("input"),e.name=f,e.value=h.a.Ya(h.a.c(t[f])),d.appendChild(e);s(o,function(e,t){var i=n.createElement("input");i.name=e,i.value=t,d.appendChild(i)}),n.body.appendChild(d),i.submitter?i.submitter(d):d.submit(),setTimeout(function(){d.parentNode.removeChild(d)},0)}}}(),h.b("utils",h.a),h.b("utils.arrayForEach",h.a.r),h.b("utils.arrayFirst",h.a.hb),h.b("utils.arrayFilter",h.a.la),h.b("utils.arrayGetDistinctValues",h.a.ib),h.b("utils.arrayIndexOf",h.a.l),h.b("utils.arrayMap",h.a.ya),h.b("utils.arrayPushAll",h.a.$),h.b("utils.arrayRemoveItem",h.a.ma),h.b("utils.extend",h.a.extend),h.b("utils.fieldsIncludedWithJsonPost",h.a.mb),h.b("utils.getFormFields",h.a.ob),h.b("utils.peekObservable",h.a.Sa),h.b("utils.postJson",h.a.gc),h.b("utils.parseJson",h.a.fc),h.b("utils.registerEventHandler",h.a.q),h.b("utils.stringifyJson",h.a.Ya),h.b("utils.range",h.a.ic),h.b("utils.toggleDomNodeCssClass",h.a.ua),h.b("utils.triggerEvent",h.a.ha),h.b("utils.unwrapObservable",h.a.c),h.b("utils.objectForEach",h.a.A),h.b("utils.addOrRemoveItem",h.a.Y),h.b("unwrap",h.a.c),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments);return e=n.shift(),function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}}),h.a.f=new function(){function t(t,r){var s=t[i];if(!s||"null"===s||!o[s]){if(!r)return e;s=t[i]="ko"+n++,o[s]={}}return o[s]}var n=0,i="__ko__"+(new Date).getTime(),o={};return{get:function(n,i){var o=t(n,!1);return o===e?e:o[i]},set:function(n,i,o){(o!==e||t(n,!1)!==e)&&(t(n,!0)[i]=o)},clear:function(e){var t=e[i];return t?(delete o[t],e[i]=null,!0):!1},L:function(){return n++ +i}}},h.b("utils.domData",h.a.f),h.b("utils.domData.clear",h.a.f.clear),h.a.u=new function(){function t(t,n){var o=h.a.f.get(t,i);return o===e&&n&&(o=[],h.a.f.set(t,i,o)),o}function n(e){var i=t(e,!1);if(i)for(var i=i.slice(0),o=0;o<i.length;o++)i[o](e);if(h.a.f.clear(e),h.a.u.cleanExternalData(e),s[e.nodeType])for(i=e.firstChild;e=i;)i=e.nextSibling,8===e.nodeType&&n(e)}var i=h.a.f.L(),r={1:!0,8:!0,9:!0},s={1:!0,9:!0};return{ja:function(e,n){if("function"!=typeof n)throw Error("Callback must be a function");t(e,!0).push(n)},Ab:function(n,o){var r=t(n,!1);r&&(h.a.ma(r,o),0==r.length&&h.a.f.set(n,i,e))},M:function(e){if(r[e.nodeType]&&(n(e),s[e.nodeType])){var t=[];h.a.$(t,e.getElementsByTagName("*"));for(var i=0,o=t.length;o>i;i++)n(t[i])}return e},removeNode:function(e){h.M(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){o&&"function"==typeof o.cleanData&&o.cleanData([e])}}},h.M=h.a.u.M,h.removeNode=h.a.u.removeNode,h.b("cleanNode",h.M),h.b("removeNode",h.removeNode),h.b("utils.domNodeDisposal",h.a.u),h.b("utils.domNodeDisposal.addDisposeCallback",h.a.u.ja),h.b("utils.domNodeDisposal.removeDisposeCallback",h.a.u.Ab),function(){h.a.Qa=function(e){var i;if(o){if(o.parseHTML)i=o.parseHTML(e)||[];else if((i=o.clean([e]))&&i[0]){for(e=i[0];e.parentNode&&11!==e.parentNode.nodeType;)e=e.parentNode;e.parentNode&&e.parentNode.removeChild(e)}}else{var r=h.a.ta(e).toLowerCase();for(i=n.createElement("div"),r=r.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!r.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!r.indexOf("<td")||!r.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],e="ignored<div>"+r[1]+e+r[2]+"</div>","function"==typeof t.innerShiv?i.appendChild(t.innerShiv(e)):i.innerHTML=e;r[0]--;)i=i.lastChild;i=h.a.R(i.lastChild.childNodes)}return i},h.a.Va=function(t,n){if(h.a.Fa(t),n=h.a.c(n),null!==n&&n!==e)if("string"!=typeof n&&(n=n.toString()),o)o(t).html(n);else for(var i=h.a.Qa(n),r=0;r<i.length;r++)t.appendChild(i[r])}}(),h.b("utils.parseHtmlFragment",h.a.Qa),h.b("utils.setHtml",h.a.Va),h.w=function(){function t(e,n){if(e)if(8==e.nodeType){var i=h.w.xb(e.nodeValue);null!=i&&n.push({Rb:e,cc:i})}else if(1==e.nodeType)for(var i=0,o=e.childNodes,r=o.length;r>i;i++)t(o[i],n)}var n={};return{Na:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var t=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return n[t]=e,"<!--[ko_memo:"+t+"]-->"},Hb:function(t,i){var o=n[t];if(o===e)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return o.apply(null,i||[]),!0}finally{delete n[t]}},Ib:function(e,n){var i=[];t(e,i);for(var o=0,r=i.length;r>o;o++){var s=i[o].Rb,a=[s];n&&h.a.$(a,n),h.w.Hb(i[o].cc,a),s.nodeValue="",s.parentNode&&s.parentNode.removeChild(s)}},xb:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),h.b("memoization",h.w),h.b("memoization.memoize",h.w.Na),h.b("memoization.unmemoize",h.w.Hb),h.b("memoization.parseMemoText",h.w.xb),h.b("memoization.unmemoizeDomNodeAndDescendants",h.w.Ib),h.Ga={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return h.h({read:e,write:function(i){clearTimeout(n),n=setTimeout(function(){e(i)},t)}})},rateLimit:function(e,t){var n,i,o;"number"==typeof t?n=t:(n=t.timeout,i=t.method),o="notifyWhenChangesStop"==i?l:u,e.Ma(function(e){return o(e,n)})},notify:function(e,t){e.equalityComparer="always"==t?null:a}};var d={undefined:1,"boolean":1,number:1,string:1};h.b("extenders",h.Ga),h.Fb=function(e,t,n){this.target=e,this.za=t,this.Qb=n,this.sb=!1,h.s(this,"dispose",this.F)},h.Fb.prototype.F=function(){this.sb=!0,this.Qb()},h.N=function(){h.a.sa(this,h.N.fn),this.H={}};var f="change";s={V:function(e,t,n){var i=this;n=n||f;var o=new h.Fb(i,t?e.bind(t):e,function(){h.a.ma(i.H[n],o)});return i.o&&i.o(),i.H[n]||(i.H[n]=[]),i.H[n].push(o),o},notifySubscribers:function(e,t){if(t=t||f,this.qb(t))try{h.k.jb();for(var n,i=this.H[t].slice(0),o=0;n=i[o];++o)n.sb||n.za(e)}finally{h.k.end()}},Ma:function(e){var t,n,i,o=this,r=h.v(o);o.ia||(o.ia=o.notifySubscribers,o.notifySubscribers=function(e,t){t&&t!==f?"beforeChange"===t?o.bb(e):o.ia(e,t):o.cb(e)});var s=e(function(){r&&i===o&&(i=o()),t=!1,o.Ka(n,i)&&o.ia(n=i)});o.cb=function(e){t=!0,i=e,s()},o.bb=function(e){t||(n=e,o.ia(e,"beforeChange"))}},qb:function(e){return this.H[e]&&this.H[e].length},Wb:function(){var e=0;return h.a.A(this.H,function(t,n){e+=n.length}),e},Ka:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:function(e){var t=this;return e&&h.a.A(e,function(e,n){var i=h.Ga[e];"function"==typeof i&&(t=i(t,n)||t)}),t}},h.s(s,"subscribe",s.V),h.s(s,"extend",s.extend),h.s(s,"getSubscriptionsCount",s.Wb),h.a.na&&h.a.ra(s,Function.prototype),h.N.fn=s,h.tb=function(e){return null!=e&&"function"==typeof e.V&&"function"==typeof e.notifySubscribers},h.b("subscribable",h.N),h.b("isSubscribable",h.tb),h.ca=h.k=function(){function e(e){i.push(n),n=e}function t(){n=i.pop()}var n,i=[],o=0;return{jb:e,end:t,zb:function(e){if(n){if(!h.tb(e))throw Error("Only subscribable things can act as dependencies");n.za(e,e.Kb||(e.Kb=++o))}},t:function(n,i,o){try{return e(),n.apply(i,o||[])}finally{t()}},fa:function(){return n?n.ba.fa():void 0},pa:function(){return n?n.pa:void 0}}}(),h.b("computedContext",h.ca),h.b("computedContext.getDependenciesCount",h.ca.fa),h.b("computedContext.isInitial",h.ca.pa),h.m=function(e){function t(){return 0<arguments.length?(t.Ka(n,arguments[0])&&(t.P(),n=arguments[0],t.O()),this):(h.k.zb(t),n)}var n=e;return h.N.call(t),h.a.sa(t,h.m.fn),t.o=function(){return n},t.O=function(){t.notifySubscribers(n)},t.P=function(){t.notifySubscribers(n,"beforeChange")},h.s(t,"peek",t.o),h.s(t,"valueHasMutated",t.O),h.s(t,"valueWillMutate",t.P),t},h.m.fn={equalityComparer:a};var p=h.m.hc="__ko_proto__";h.m.fn[p]=h.m,h.a.na&&h.a.ra(h.m.fn,h.N.fn),h.Ha=function(t,n){return null===t||t===e||t[p]===e?!1:t[p]===n?!0:h.Ha(t[p],n)},h.v=function(e){return h.Ha(e,h.m)},h.ub=function(e){return"function"==typeof e&&e[p]===h.m||"function"==typeof e&&e[p]===h.h&&e.Yb?!0:!1},h.b("observable",h.m),h.b("isObservable",h.v),h.b("isWriteableObservable",h.ub),h.T=function(e){if(e=e||[],"object"!=typeof e||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=h.m(e),h.a.sa(e,h.T.fn),e.extend({trackArrayChanges:!0})},h.T.fn={remove:function(e){for(var t=this.o(),n=[],i="function"!=typeof e||h.v(e)?function(t){return t===e}:e,o=0;o<t.length;o++){var r=t[o];i(r)&&(0===n.length&&this.P(),n.push(r),t.splice(o,1),o--)}return n.length&&this.O(),n},removeAll:function(t){if(t===e){var n=this.o(),i=n.slice(0);return this.P(),n.splice(0,n.length),this.O(),i}return t?this.remove(function(e){return 0<=h.a.l(t,e)}):[]},destroy:function(e){var t=this.o(),n="function"!=typeof e||h.v(e)?function(t){return t===e}:e;this.P();for(var i=t.length-1;i>=0;i--)n(t[i])&&(t[i]._destroy=!0);this.O()},destroyAll:function(t){return t===e?this.destroy(function(){return!0}):t?this.destroy(function(e){return 0<=h.a.l(t,e)}):[]},indexOf:function(e){var t=this();return h.a.l(t,e)},replace:function(e,t){var n=this.indexOf(e);n>=0&&(this.P(),this.o()[n]=t,this.O())}},h.a.r("pop push reverse shift sort splice unshift".split(" "),function(e){h.T.fn[e]=function(){var t=this.o();return this.P(),this.kb(t,e,arguments),t=t[e].apply(t,arguments),this.O(),t}}),h.a.r(["slice"],function(e){h.T.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),h.a.na&&h.a.ra(h.T.fn,h.m.fn),h.b("observableArray",h.T);var _="arrayChange";h.Ga.trackArrayChanges=function(e){function t(){if(!n){n=!0;var t=e.notifySubscribers;e.notifySubscribers=function(e,n){return n&&n!==f||++o,t.apply(this,arguments)};var r=[].concat(e.o()||[]);i=null,e.V(function(t){if(t=[].concat(t||[]),e.qb(_)){var n;(!i||o>1)&&(i=h.a.Aa(r,t,{sparse:!0})),n=i,n.length&&e.notifySubscribers(n,_)}r=t,i=null,o=0})}}if(!e.kb){var n=!1,i=null,o=0,r=e.V;e.V=e.subscribe=function(e,n,i){return i===_&&t(),r.apply(this,arguments)},e.kb=function(e,t,r){function s(e,t,n){return a[a.length]={status:e,value:t,index:n}}if(n&&!o){var a=[],u=e.length,l=r.length,c=0;switch(t){case"push":c=u;case"unshift":for(t=0;l>t;t++)s("added",r[t],c+t);break;case"pop":c=u-1;case"shift":u&&s("deleted",e[c],c);break;case"splice":t=Math.min(Math.max(0,0>r[0]?u+r[0]:r[0]),u);for(var u=1===l?u:Math.min(t+(r[1]||0),u),l=t+l-2,c=Math.max(u,l),d=[],f=[],p=2;c>t;++t,++p)u>t&&f.push(s("deleted",e[t],t)),l>t&&d.push(s("added",r[p],t));h.a.nb(f,d);break;default:return}i=a}}}},h.ba=h.h=function(e,t,n){function i(){f=!0,h.a.A(y,function(e,t){t.F()}),y={},w=0,l=!1}function o(){var e=s.throttleEvaluation;e&&e>=0?(clearTimeout(x),x=setTimeout(r,e)):s.wa?s.wa():r()}function r(){if(!c&&!f){if(v&&v()){if(!d)return void b()}else d=!1;c=!0;try{var e=y,n=w;h.k.jb({za:function(t,i){f||(n&&e[i]?(y[i]=e[i],++w,delete e[i],--n):y[i]||(y[i]=t.V(o),++w))},ba:s,pa:!w}),y={},w=0;try{var i=t?p.call(t):p()}finally{h.k.end(),n&&h.a.A(e,function(e,t){t.F()}),l=!1}s.Ka(u,i)&&(s.notifySubscribers(u,"beforeChange"),u=i,s.wa&&!s.throttleEvaluation||s.notifySubscribers(u))}finally{c=!1}w||b()}}function s(){if(0<arguments.length){if("function"!=typeof _)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return _.apply(t,arguments),this}return l&&r(),h.k.zb(s),u}function a(){return l||w>0}var u,l=!0,c=!1,d=!1,f=!1,p=e;if(p&&"object"==typeof p?(n=p,p=n.read):(n=n||{},p||(p=n.read)),"function"!=typeof p)throw Error("Pass a function that returns the value of the ko.computed");var _=n.write,m=n.disposeWhenNodeIsRemoved||n.G||null,g=n.disposeWhen||n.Da,v=g,b=i,y={},w=0,x=null;t||(t=n.owner),h.N.call(s),h.a.sa(s,h.h.fn),s.o=function(){return l&&!w&&r(),u},s.fa=function(){return w},s.Yb="function"==typeof n.write,s.F=function(){b()},s.ga=a;var S=s.Ma;return s.Ma=function(e){S.call(s,e),s.wa=function(){s.bb(u),l=!0,s.cb(s)}},h.s(s,"peek",s.o),h.s(s,"dispose",s.F),h.s(s,"isActive",s.ga),h.s(s,"getDependenciesCount",s.fa),m&&(d=!0,m.nodeType&&(v=function(){return!h.a.Ea(m)||g&&g()})),!0!==n.deferEvaluation&&r(),m&&a()&&m.nodeType&&(b=function(){h.a.u.Ab(m,b),i()},h.a.u.ja(m,b)),s},h.$b=function(e){return h.Ha(e,h.h)},s=h.m.hc,h.h[s]=h.m,h.h.fn={equalityComparer:a},h.h.fn[s]=h.h,h.a.na&&h.a.ra(h.h.fn,h.N.fn),h.b("dependentObservable",h.h),h.b("computed",h.h),h.b("isComputed",h.$b),function(){function t(o,r,s){if(s=s||new i,o=r(o),"object"!=typeof o||null===o||o===e||o instanceof Date||o instanceof String||o instanceof Number||o instanceof Boolean)return o;var a=o instanceof Array?[]:{};return s.save(o,a),n(o,function(n){var i=r(o[n]);switch(typeof i){case"boolean":case"number":case"string":case"function":a[n]=i;break;case"object":case"undefined":var u=s.get(i);a[n]=u!==e?u:t(i,r,s)}}),a}function n(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}function i(){this.keys=[],this.ab=[]}h.Gb=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return t(e,function(e){for(var t=0;h.v(e)&&10>t;t++)e=e();return e})},h.toJSON=function(e,t,n){return e=h.Gb(e),h.a.Ya(e,t,n)},i.prototype={save:function(e,t){var n=h.a.l(this.keys,e);n>=0?this.ab[n]=t:(this.keys.push(e),this.ab.push(t))},get:function(t){return t=h.a.l(this.keys,t),t>=0?this.ab[t]:e}}}(),h.b("toJS",h.Gb),h.b("toJSON",h.toJSON),function(){h.i={p:function(t){switch(h.a.B(t)){case"option":return!0===t.__ko__hasDomDataOptionValue__?h.a.f.get(t,h.d.options.Pa):7>=h.a.oa?t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return 0<=t.selectedIndex?h.i.p(t.options[t.selectedIndex]):e;default:return t.value}},X:function(t,n,i){switch(h.a.B(t)){case"option":switch(typeof n){case"string":h.a.f.set(t,h.d.options.Pa,e),"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__,t.value=n;break;default:h.a.f.set(t,h.d.options.Pa,n),t.__ko__hasDomDataOptionValue__=!0,t.value="number"==typeof n?n:""}break;case"select":(""===n||null===n)&&(n=e);for(var o,r=-1,s=0,a=t.options.length;a>s;++s)if(o=h.i.p(t.options[s]),o==n||""==o&&n===e){r=s;break}(i||r>=0||n===e&&1<t.size)&&(t.selectedIndex=r);break;default:(null===n||n===e)&&(n=""),t.value=n}}}}(),h.b("selectExtensions",h.i),h.b("selectExtensions.readValue",h.i.p),h.b("selectExtensions.writeValue",h.i.X),h.g=function(){function e(e){e=h.a.ta(e),123===e.charCodeAt(0)&&(e=e.slice(1,-1));var t,n,s=[],a=e.match(i),u=0;if(a){a.push(",");for(var l,c=0;l=a[c];++c){var d=l.charCodeAt(0);if(44===d){if(0>=u){t&&s.push(n?{key:t,value:n.join("")}:{unknown:t}),t=n=u=0;continue}}else if(58===d){if(!n)continue}else if(47===d&&c&&1<l.length)(d=a[c-1].match(o))&&!r[d[0]]&&(e=e.substr(e.indexOf(l)+1),a=e.match(i),a.push(","),c=-1,l="/");else if(40===d||123===d||91===d)++u;else if(41===d||125===d||93===d)--u;else if(!t&&!n){t=34===d||39===d?l.slice(1,-1):l;continue}n?n.push(l):n=[l]}}return s}var t=["true","false","null","undefined"],n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,i=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),o=/[\])"'A-Za-z0-9_$]+$/,r={"in":1,"return":1,"typeof":1},s={};return{aa:[],W:s,Ra:e,qa:function(i,o){function r(e,i){var o,c=h.getBindingHandler(e);(c&&c.preprocess?i=c.preprocess(i,e,r):1)&&((c=s[e])&&(o=i,0<=h.a.l(t,o)?o=!1:(c=o.match(n),o=null===c?!1:c[1]?"Object("+c[1]+")"+c[2]:o),c=o),c&&u.push("'"+e+"':function(_z){"+o+"=_z}"),l&&(i="function(){return "+i+" }"),a.push("'"+e+"':"+i))}o=o||{};var a=[],u=[],l=o.valueAccessors,c="string"==typeof i?e(i):i;return h.a.r(c,function(e){r(e.key||e.unknown,e.value)}),u.length&&r("_ko_property_writers","{"+u.join(",")+" }"),a.join(",")},bc:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},va:function(e,t,n,i,o){e&&h.v(e)?!h.ub(e)||o&&e.o()===i||e(i):(e=t.get("_ko_property_writers"))&&e[n]&&e[n](i)}}}(),h.b("expressionRewriting",h.g),h.b("expressionRewriting.bindingRewriteValidators",h.g.aa),h.b("expressionRewriting.parseObjectLiteral",h.g.Ra),h.b("expressionRewriting.preProcessBindings",h.g.qa),h.b("expressionRewriting._twoWayBindings",h.g.W),h.b("jsonExpressionRewriting",h.g),h.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",h.g.qa),function(){function e(e){return 8==e.nodeType&&s.test(r?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&a.test(r?e.text:e.nodeValue)}function i(n,i){for(var o=n,r=1,s=[];o=o.nextSibling;){if(t(o)&&(r--,0===r))return s;s.push(o),e(o)&&r++}if(!i)throw Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function o(e,t){var n=i(e,t);return n?0<n.length?n[n.length-1].nextSibling:e.nextSibling:null}var r=n&&"<!--test-->"===n.createComment("test").text,s=r?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,a=r?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,u={ul:!0,ol:!0};h.e={Q:{},childNodes:function(t){return e(t)?i(t):t.childNodes},da:function(t){if(e(t)){t=h.e.childNodes(t);for(var n=0,i=t.length;i>n;n++)h.removeNode(t[n])}else h.a.Fa(t)},U:function(t,n){if(e(t)){h.e.da(t);for(var i=t.nextSibling,o=0,r=n.length;r>o;o++)i.parentNode.insertBefore(n[o],i)}else h.a.U(t,n)},yb:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},rb:function(t,n,i){i?e(t)?t.parentNode.insertBefore(n,i.nextSibling):i.nextSibling?t.insertBefore(n,i.nextSibling):t.appendChild(n):h.e.yb(t,n)},firstChild:function(n){return e(n)?!n.nextSibling||t(n.nextSibling)?null:n.nextSibling:n.firstChild},nextSibling:function(n){return e(n)&&(n=o(n)),n.nextSibling&&t(n.nextSibling)?null:n.nextSibling},Xb:e,lc:function(e){return(e=(r?e.text:e.nodeValue).match(s))?e[1]:null},wb:function(n){if(u[h.a.B(n)]){var i=n.firstChild;if(i)do if(1===i.nodeType){var r;r=i.firstChild;var s=null;if(r)do if(s)s.push(r);else if(e(r)){var a=o(r,!0);a?r=a:s=[r]}else t(r)&&(s=[r]);while(r=r.nextSibling);if(r=s)for(s=i.nextSibling,a=0;a<r.length;a++)s?n.insertBefore(r[a],s):n.appendChild(r[a])}while(i=i.nextSibling)}}}}(),h.b("virtualElements",h.e),h.b("virtualElements.allowedBindings",h.e.Q),h.b("virtualElements.emptyNode",h.e.da),h.b("virtualElements.insertAfter",h.e.rb),h.b("virtualElements.prepend",h.e.yb),h.b("virtualElements.setDomNodeChildren",h.e.U),function(){h.J=function(){this.Nb={}},h.a.extend(h.J.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind");case 8:return h.e.Xb(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t);return n?this.parseBindingsString(n,t,e):null},getBindingAccessors:function(e,t){var n=this.getBindingsString(e,t);return n?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return h.e.lc(e);default:return null}},parseBindingsString:function(e,t,n,i){try{var o,r=this.Nb,s=e+(i&&i.valueAccessors||"");if(!(o=r[s])){var a,u="with($context){with($data||{}){return{"+h.g.qa(e,i)+"}}}";a=new Function("$context","$element",u),o=r[s]=a}return o(t,n)}catch(l){throw l.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+l.message,l}}}),h.J.instance=new h.J}(),h.b("bindingProvider",h.J),function(){function n(e){return function(){return e}}function i(e){return e()}function r(e){return h.a.Oa(h.k.t(e),function(t,n){return function(){return e()[n]}})}function s(e,t){return r(this.getBindings.bind(this,e,t))}function a(e,t,n){var i,o=h.e.firstChild(t),r=h.J.instance,s=r.preprocessNode;if(s){for(;i=o;)o=h.e.nextSibling(i),s.call(r,i);o=h.e.firstChild(t)}for(;i=o;)o=h.e.nextSibling(i),u(e,i,n)}function u(e,t,n){var i=!0,o=1===t.nodeType;o&&h.e.wb(t),(o&&n||h.J.instance.nodeHasBindings(t))&&(i=c(t,null,e,n).shouldBindDescendants),i&&!f[h.a.B(t)]&&a(e,t,!o)}function l(e){var t=[],n={},i=[];return h.a.A(e,function o(r){if(!n[r]){var s=h.getBindingHandler(r);s&&(s.after&&(i.push(r),h.a.r(s.after,function(t){if(e[t]){if(-1!==h.a.l(i,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+i.join(", "));o(t)}}),i.length--),t.push({key:r,pb:s})),n[r]=!0}}),t}function c(t,n,o,r){var a=h.a.f.get(t,p);if(!n){if(a)throw Error("You cannot apply bindings multiple times to the same element.");h.a.f.set(t,p,!0)}!a&&r&&h.Eb(t,o);var u;if(n&&"function"!=typeof n)u=n;else{var c=h.J.instance,d=c.getBindingAccessors||s,f=h.h(function(){return(u=n?n(o,t):d.call(c,t,o))&&o.D&&o.D(),u},null,{G:t});u&&f.ga()||(f=null)}var _;if(u){var m=f?function(e){return function(){return i(f()[e])}}:function(e){return u[e]},g=function(){return h.a.Oa(f?f():u,i)};g.get=function(e){return u[e]&&i(m(e))},g.has=function(e){return e in u},r=l(u),h.a.r(r,function(n){var i=n.pb.init,r=n.pb.update,s=n.key;if(8===t.nodeType&&!h.e.Q[s])throw Error("The binding '"+s+"' cannot be used with virtual elements");try{"function"==typeof i&&h.k.t(function(){var n=i(t,m(s),g,o.$data,o);if(n&&n.controlsDescendantBindings){if(_!==e)throw Error("Multiple bindings ("+_+" and "+s+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");_=s}}),"function"==typeof r&&h.h(function(){r(t,m(s),g,o.$data,o)},null,{G:t})}catch(a){throw a.message='Unable to process binding "'+s+": "+u[s]+'"\nMessage: '+a.message,a}})}return{shouldBindDescendants:_===e}}function d(e){return e&&e instanceof h.I?e:new h.I(e)}h.d={};var f={script:!0};h.getBindingHandler=function(e){return h.d[e]},h.I=function(t,n,i,o){var r,s=this,a="function"==typeof t&&!h.v(t),u=h.h(function(){var e=a?t():t,r=h.a.c(e);
return n?(n.D&&n.D(),h.a.extend(s,n),u&&(s.D=u)):(s.$parents=[],s.$root=r,s.ko=h),s.$rawData=e,s.$data=r,i&&(s[i]=r),o&&o(s,n,r),s.$data},null,{Da:function(){return r&&!h.a.eb(r)},G:!0});u.ga()&&(s.D=u,u.equalityComparer=null,r=[],u.Jb=function(t){r.push(t),h.a.u.ja(t,function(t){h.a.ma(r,t),r.length||(u.F(),s.D=u=e)})})},h.I.prototype.createChildContext=function(e,t,n){return new h.I(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)})},h.I.prototype.extend=function(e){return new h.I(this.D||this.$data,this,null,function(t,n){t.$rawData=n.$rawData,h.a.extend(t,"function"==typeof e?e():e)})};var p=h.a.f.L(),_=h.a.f.L();h.Eb=function(e,t){return 2!=arguments.length?h.a.f.get(e,_):(h.a.f.set(e,_,t),void(t.D&&t.D.Jb(e)))},h.xa=function(e,t,n){return 1===e.nodeType&&h.e.wb(e),c(e,t,d(n),!0)},h.Lb=function(e,t,i){return i=d(i),h.xa(e,"function"==typeof t?r(t.bind(null,i,e)):h.a.Oa(t,n),i)},h.gb=function(e,t){1!==t.nodeType&&8!==t.nodeType||a(d(e),t,!0)},h.fb=function(e,n){if(!o&&t.jQuery&&(o=t.jQuery),n&&1!==n.nodeType&&8!==n.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");n=n||t.document.body,u(d(e),n,!0)},h.Ca=function(t){switch(t.nodeType){case 1:case 8:var n=h.Eb(t);if(n)return n;if(t.parentNode)return h.Ca(t.parentNode)}return e},h.Pb=function(t){return(t=h.Ca(t))?t.$data:e},h.b("bindingHandlers",h.d),h.b("applyBindings",h.fb),h.b("applyBindingsToDescendants",h.gb),h.b("applyBindingAccessorsToNode",h.xa),h.b("applyBindingsToNode",h.Lb),h.b("contextFor",h.Ca),h.b("dataFor",h.Pb)}();var m={"class":"className","for":"htmlFor"};h.d.attr={update:function(t,n){var i=h.a.c(n())||{};h.a.A(i,function(n,i){i=h.a.c(i);var o=!1===i||null===i||i===e;o&&t.removeAttribute(n),8>=h.a.oa&&n in m?(n=m[n],o?t.removeAttribute(n):t[n]=i):o||t.setAttribute(n,i.toString()),"name"===n&&h.a.Cb(t,o?"":i.toString())})}},function(){h.d.checked={after:["value","attr"],init:function(t,n,i){function o(){return i.has("checkedValue")?h.a.c(i.get("checkedValue")):t.value}function r(){var e=t.checked,r=d?o():e;if(!h.ca.pa()&&(!u||e)){var s=h.k.t(n);l?c!==r?(e&&(h.a.Y(s,r,!0),h.a.Y(s,c,!1)),c=r):h.a.Y(s,r,e):h.g.va(s,i,"checked",r,!0)}}function s(){var e=h.a.c(n());t.checked=l?0<=h.a.l(e,o()):a?e:o()===e}var a="checkbox"==t.type,u="radio"==t.type;if(a||u){var l=a&&h.a.c(n())instanceof Array,c=l?o():e,d=u||l;u&&!t.name&&h.d.uniqueName.init(t,function(){return!0}),h.ba(r,null,{G:t}),h.a.q(t,"click",r),h.ba(s,null,{G:t})}}},h.g.W.checked=!0,h.d.checkedValue={update:function(e,t){e.value=h.a.c(t())}}}(),h.d.css={update:function(e,t){var n=h.a.c(t());"object"==typeof n?h.a.A(n,function(t,n){n=h.a.c(n),h.a.ua(e,t,n)}):(n=String(n||""),h.a.ua(e,e.__ko__cssValue,!1),e.__ko__cssValue=n,h.a.ua(e,n,!0))}},h.d.enable={update:function(e,t){var n=h.a.c(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},h.d.disable={update:function(e,t){h.d.enable.update(e,function(){return!h.a.c(t())})}},h.d.event={init:function(e,t,n,i,o){var r=t()||{};h.a.A(r,function(r){"string"==typeof r&&h.a.q(e,r,function(e){var s,a=t()[r];if(a){try{var u=h.a.R(arguments);i=o.$data,u.unshift(i),s=a.apply(i,u)}finally{!0!==s&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===n.get(r+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},h.d.foreach={vb:function(e){return function(){var t=e(),n=h.a.Sa(t);return n&&"number"!=typeof n.length?(h.a.c(t),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:h.K.Ja}):{foreach:t,templateEngine:h.K.Ja}}},init:function(e,t){return h.d.template.init(e,h.d.foreach.vb(t))},update:function(e,t,n,i,o){return h.d.template.update(e,h.d.foreach.vb(t),n,i,o)}},h.g.aa.foreach=!1,h.e.Q.foreach=!0,h.d.hasfocus={init:function(e,t,n){function i(i){e.__ko_hasfocusUpdating=!0;var o=e.ownerDocument;if("activeElement"in o){var r;try{r=o.activeElement}catch(s){r=o.body}i=r===e}o=t(),h.g.va(o,n,"hasfocus",i,!0),e.__ko_hasfocusLastValue=i,e.__ko_hasfocusUpdating=!1}var o=i.bind(null,!0),r=i.bind(null,!1);h.a.q(e,"focus",o),h.a.q(e,"focusin",o),h.a.q(e,"blur",r),h.a.q(e,"focusout",r)},update:function(e,t){var n=!!h.a.c(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===n||(n?e.focus():e.blur(),h.k.t(h.a.ha,null,[e,n?"focusin":"focusout"]))}},h.g.W.hasfocus=!0,h.d.hasFocus=h.d.hasfocus,h.g.W.hasFocus=!0,h.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){h.a.Va(e,t())}},c("if"),c("ifnot",!1,!0),c("with",!0,!1,function(e,t){return e.createChildContext(t)});var g={};h.d.options={init:function(e){if("select"!==h.a.B(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(t,n,i){function o(){return h.a.la(t.options,function(e){return e.selected})}function r(e,t,n){var i=typeof t;return"function"==i?t(e):"string"==i?e[t]:n}function s(e,n){if(d.length){var i=0<=h.a.l(d,h.i.p(n[0]));h.a.Db(n[0],i),f&&!i&&h.k.t(h.a.ha,null,[t,"change"])}}var a=0!=t.length&&t.multiple?t.scrollTop:null,u=h.a.c(n()),l=i.get("optionsIncludeDestroyed");n={};var c,d;d=t.multiple?h.a.ya(o(),h.i.p):0<=t.selectedIndex?[h.i.p(t.options[t.selectedIndex])]:[],u&&("undefined"==typeof u.length&&(u=[u]),c=h.a.la(u,function(t){return l||t===e||null===t||!h.a.c(t._destroy)}),i.has("optionsCaption")&&(u=h.a.c(i.get("optionsCaption")),null!==u&&u!==e&&c.unshift(g)));var f=!1;n.beforeRemove=function(e){t.removeChild(e)},u=s,i.has("optionsAfterRender")&&(u=function(t,n){s(0,n),h.k.t(i.get("optionsAfterRender"),null,[n[0],t!==g?t:e])}),h.a.Ua(t,c,function(n,o,s){return s.length&&(d=s[0].selected?[h.i.p(s[0])]:[],f=!0),o=t.ownerDocument.createElement("option"),n===g?(h.a.Xa(o,i.get("optionsCaption")),h.i.X(o,e)):(s=r(n,i.get("optionsValue"),n),h.i.X(o,h.a.c(s)),n=r(n,i.get("optionsText"),s),h.a.Xa(o,n)),[o]},n,u),h.k.t(function(){i.get("valueAllowUnset")&&i.has("value")?h.i.X(t,h.a.c(i.get("value")),!0):(t.multiple?d.length&&o().length<d.length:d.length&&0<=t.selectedIndex?h.i.p(t.options[t.selectedIndex])!==d[0]:d.length||0<=t.selectedIndex)&&h.a.ha(t,"change")}),h.a.Tb(t),a&&20<Math.abs(a-t.scrollTop)&&(t.scrollTop=a)}},h.d.options.Pa=h.a.f.L(),h.d.selectedOptions={after:["options","foreach"],init:function(e,t,n){h.a.q(e,"change",function(){var i=t(),o=[];h.a.r(e.getElementsByTagName("option"),function(e){e.selected&&o.push(h.i.p(e))}),h.g.va(i,n,"selectedOptions",o)})},update:function(e,t){if("select"!=h.a.B(e))throw Error("values binding applies only to SELECT elements");var n=h.a.c(t());n&&"number"==typeof n.length&&h.a.r(e.getElementsByTagName("option"),function(e){var t=0<=h.a.l(n,h.i.p(e));h.a.Db(e,t)})}},h.g.W.selectedOptions=!0,h.d.style={update:function(e,t){var n=h.a.c(t()||{});h.a.A(n,function(t,n){n=h.a.c(n),e.style[t]=n||""})}},h.d.submit={init:function(e,t,n,i,o){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");h.a.q(e,"submit",function(n){var i,r=t();try{i=r.call(o.$data,e)}finally{!0!==i&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},h.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){h.a.Xa(e,t())}},h.e.Q.text=!0,h.d.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++h.d.uniqueName.Ob;h.a.Cb(e,n)}}},h.d.uniqueName.Ob=0,h.d.value={after:["options","foreach"],init:function(e,t,n){function i(){s=!1;var i=t(),o=h.i.p(e);h.g.va(i,n,"value",o)}var o=["change"],r=n.get("valueUpdate"),s=!1;r&&("string"==typeof r&&(r=[r]),h.a.$(o,r),o=h.a.ib(o)),!h.a.oa||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=h.a.l(o,"propertychange")||(h.a.q(e,"propertychange",function(){s=!0}),h.a.q(e,"focus",function(){s=!1}),h.a.q(e,"blur",function(){s&&i()})),h.a.r(o,function(t){var n=i;h.a.kc(t,"after")&&(n=function(){setTimeout(i,0)},t=t.substring(5)),h.a.q(e,t,n)})},update:function(e,t,n){var i=h.a.c(t());if(t=h.i.p(e),i!==t)if("select"===h.a.B(e)){var o=n.get("valueAllowUnset");n=function(){h.i.X(e,i,o)},n(),o||i===h.i.p(e)?setTimeout(n,0):h.k.t(h.a.ha,null,[e,"change"])}else h.i.X(e,i)}},h.g.W.value=!0,h.d.visible={update:function(e,t){var n=h.a.c(t()),i="none"!=e.style.display;n&&!i?e.style.display="":!n&&i&&(e.style.display="none")}},function(e){h.d[e]={init:function(t,n,i,o,r){return h.d.event.init.call(this,t,function(){var t={};return t[e]=n(),t},i,o,r)}}}("click"),h.C=function(){},h.C.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},h.C.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},h.C.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){t=t||n;var i=t.getElementById(e);if(!i)throw Error("Cannot find template with ID "+e);return new h.n.j(i)}if(1==e.nodeType||8==e.nodeType)return new h.n.Z(e);throw Error("Unknown template type: "+e)},h.C.prototype.renderTemplate=function(e,t,n,i){return e=this.makeTemplateSource(e,i),this.renderTemplateSource(e,t,n)},h.C.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(e,t).data("isRewritten")},h.C.prototype.rewriteTemplate=function(e,t,n){e=this.makeTemplateSource(e,n),t=t(e.text()),e.text(t),e.data("isRewritten",!0)},h.b("templateEngine",h.C),h.Za=function(){function e(e,t,n,i){e=h.g.Ra(e);for(var o=h.g.aa,r=0;r<e.length;r++){var s=e[r].key;if(o.hasOwnProperty(s)){var a=o[s];if("function"==typeof a){if(s=a(e[r].value))throw Error(s)}else if(!a)throw Error("This template engine does not support the '"+s+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+h.g.qa(e,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",i.createJavaScriptEvaluatorBlock(n)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Ub:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return h.Za.dc(e,t)},n)},dc:function(i,o){return i.replace(t,function(t,n,i,r,s){return e(s,n,i,o)}).replace(n,function(t,n){return e(n,"<!-- ko -->","#comment",o)})},Mb:function(e,t){return h.w.Na(function(n,i){var o=n.nextSibling;o&&o.nodeName.toLowerCase()===t&&h.xa(o,e,i)})}}}(),h.b("__tr_ambtns",h.Za.Mb),function(){h.n={},h.n.j=function(e){this.j=e},h.n.j.prototype.text=function(){var e=h.a.B(this.j),e="script"===e?"text":"textarea"===e?"value":"innerHTML";if(0==arguments.length)return this.j[e];var t=arguments[0];"innerHTML"===e?h.a.Va(this.j,t):this.j[e]=t};var t=h.a.f.L()+"_";h.n.j.prototype.data=function(e){return 1===arguments.length?h.a.f.get(this.j,t+e):void h.a.f.set(this.j,t+e,arguments[1])};var n=h.a.f.L();h.n.Z=function(e){this.j=e},h.n.Z.prototype=new h.n.j,h.n.Z.prototype.text=function(){if(0==arguments.length){var t=h.a.f.get(this.j,n)||{};return t.$a===e&&t.Ba&&(t.$a=t.Ba.innerHTML),t.$a}h.a.f.set(this.j,n,{$a:arguments[0]})},h.n.j.prototype.nodes=function(){return 0==arguments.length?(h.a.f.get(this.j,n)||{}).Ba:void h.a.f.set(this.j,n,{Ba:arguments[0]})},h.b("templateSources",h.n),h.b("templateSources.domElement",h.n.j),h.b("templateSources.anonymousTemplate",h.n.Z)}(),function(){function t(e,t,n){var i;for(t=h.e.nextSibling(t);e&&(i=e)!==t;)e=h.e.nextSibling(i),n(i,e)}function n(e,n){if(e.length){var i=e[0],o=e[e.length-1],r=i.parentNode,s=h.J.instance,a=s.preprocessNode;if(a){if(t(i,o,function(e,t){var n=e.previousSibling,r=a.call(s,e);r&&(e===i&&(i=r[0]||t),e===o&&(o=r[r.length-1]||n))}),e.length=0,!i)return;i===o?e.push(i):(e.push(i,o),h.a.ea(e,r))}t(i,o,function(e){1!==e.nodeType&&8!==e.nodeType||h.fb(n,e)}),t(i,o,function(e){1!==e.nodeType&&8!==e.nodeType||h.w.Ib(e,[n])}),h.a.ea(e,r)}}function i(e){return e.nodeType?e:0<e.length?e[0]:null}function o(e,t,o,s,a){a=a||{};var u=e&&i(e),u=u&&u.ownerDocument,l=a.templateEngine||r;if(h.Za.Ub(o,l,u),o=l.renderTemplate(o,s,a,u),"number"!=typeof o.length||0<o.length&&"number"!=typeof o[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(u=!1,t){case"replaceChildren":h.e.U(e,o),u=!0;break;case"replaceNode":h.a.Bb(e,o),u=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+t)}return u&&(n(o,s),a.afterRender&&h.k.t(a.afterRender,null,[o,s.$data])),o}var r;h.Wa=function(t){if(t!=e&&!(t instanceof h.C))throw Error("templateEngine must inherit from ko.templateEngine");r=t},h.Ta=function(t,n,s,a,u){if(s=s||{},(s.templateEngine||r)==e)throw Error("Set a template engine before calling renderTemplate");if(u=u||"replaceChildren",a){var l=i(a);return h.h(function(){var e=n&&n instanceof h.I?n:new h.I(h.a.c(n)),r=h.v(t)?t():"function"==typeof t?t(e.$data,e):t,e=o(a,u,r,e,s);"replaceNode"==u&&(a=e,l=i(a))},null,{Da:function(){return!l||!h.a.Ea(l)},G:l&&"replaceNode"==u?l.parentNode:l})}return h.w.Na(function(e){h.Ta(t,n,s,e,"replaceNode")})},h.jc=function(t,i,r,s,a){function u(e,t){n(t,c),r.afterRender&&r.afterRender(t,e)}function l(e,n){c=a.createChildContext(e,r.as,function(e){e.$index=n});var i="function"==typeof t?t(e,c):t;return o(null,"ignoreTargetNode",i,c,r)}var c;return h.h(function(){var t=h.a.c(i)||[];"undefined"==typeof t.length&&(t=[t]),t=h.a.la(t,function(t){return r.includeDestroyed||t===e||null===t||!h.a.c(t._destroy)}),h.k.t(h.a.Ua,null,[s,t,l,r,u])},null,{G:s})};var s=h.a.f.L();h.d.template={init:function(e,t){var n=h.a.c(t());return"string"==typeof n||n.name?h.e.da(e):(n=h.e.childNodes(e),n=h.a.ec(n),new h.n.Z(e).nodes(n)),{controlsDescendantBindings:!0}},update:function(t,n,i,o,r){var a,u=n();n=h.a.c(u),i=!0,o=null,"string"==typeof n?n={}:(u=n.name,"if"in n&&(i=h.a.c(n["if"])),i&&"ifnot"in n&&(i=!h.a.c(n.ifnot)),a=h.a.c(n.data)),"foreach"in n?o=h.jc(u||t,i&&n.foreach||[],n,t,r):i?(r="data"in n?r.createChildContext(a,n.as):r,o=h.Ta(u||t,r,n,t)):h.e.da(t),r=o,(a=h.a.f.get(t,s))&&"function"==typeof a.F&&a.F(),h.a.f.set(t,s,r&&r.ga()?r:e)}},h.g.aa.template=function(e){return e=h.g.Ra(e),1==e.length&&e[0].unknown||h.g.bc(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},h.e.Q.template=!0}(),h.b("setTemplateEngine",h.Wa),h.b("renderTemplate",h.Ta),h.a.nb=function(e,t,n){if(e.length&&t.length){var i,o,r,s,a;for(i=o=0;(!n||n>i)&&(s=e[o]);++o){for(r=0;a=t[r];++r)if(s.value===a.value){s.moved=a.index,a.moved=s.index,t.splice(r,1),i=r=0;break}i+=r}}},h.a.Aa=function(){function e(e,t,n,i,o){var r,s,a,u,l,c=Math.min,d=Math.max,f=[],p=e.length,_=t.length,m=_-p||1,g=p+_+1;for(r=0;p>=r;r++)for(u=a,f.push(a=[]),l=c(_,r+m),s=d(0,r-1);l>=s;s++)a[s]=s?r?e[r-1]===t[s-1]?u[s-1]:c(u[s]||g,a[s-1]||g)+1:s+1:r+1;for(c=[],d=[],m=[],r=p,s=_;r||s;)_=f[r][s]-1,s&&_===f[r][s-1]?d.push(c[c.length]={status:n,value:t[--s],index:s}):r&&_===f[r-1][s]?m.push(c[c.length]={status:i,value:e[--r],index:r}):(--s,--r,o.sparse||c.push({status:"retained",value:t[s]}));return h.a.nb(d,m,10*p),c.reverse()}return function(t,n,i){return i="boolean"==typeof i?{dontLimitMoves:i}:i||{},t=t||[],n=n||[],t.length<=n.length?e(t,n,"added","deleted",i):e(n,t,"deleted","added",i)}}(),h.b("utils.compareArrays",h.a.Aa),function(){function t(t,n,i,o,r){var s=[],a=h.h(function(){var e=n(i,r,h.a.ea(s,t))||[];0<s.length&&(h.a.Bb(s,e),o&&h.k.t(o,null,[i,e,r])),s.length=0,h.a.$(s,e)},null,{G:t,Da:function(){return!h.a.eb(s)}});return{S:s,h:a.ga()?a:e}}var n=h.a.f.L();h.a.Ua=function(i,o,r,s,a){function u(e,t){y=d[t],g!==t&&(S[e]=y),y.Ia(g++),h.a.ea(y.S,i),_.push(y),b.push(y)}function l(e,t){if(e)for(var n=0,i=t.length;i>n;n++)t[n]&&h.a.r(t[n].S,function(i){e(i,n,t[n].ka)})}o=o||[],s=s||{};var c=h.a.f.get(i,n)===e,d=h.a.f.get(i,n)||[],f=h.a.ya(d,function(e){return e.ka}),p=h.a.Aa(f,o,s.dontLimitMoves),_=[],m=0,g=0,v=[],b=[];o=[];for(var y,w,x,S=[],f=[],L=0;w=p[L];L++)switch(x=w.moved,w.status){case"deleted":x===e&&(y=d[m],y.h&&y.h.F(),v.push.apply(v,h.a.ea(y.S,i)),s.beforeRemove&&(o[L]=y,b.push(y))),m++;break;case"retained":u(L,m++);break;case"added":x!==e?u(L,x):(y={ka:w.value,Ia:h.m(g++)},_.push(y),b.push(y),c||(f[L]=y))}l(s.beforeMove,S),h.a.r(v,s.beforeRemove?h.M:h.removeNode);for(var P,L=0,c=h.e.firstChild(i);y=b[L];L++){for(y.S||h.a.extend(y,t(i,r,y.ka,a,y.Ia)),m=0;p=y.S[m];c=p.nextSibling,P=p,m++)p!==c&&h.e.rb(i,p,P);!y.Zb&&a&&(a(y.ka,y.S,y.Ia),y.Zb=!0)}l(s.beforeRemove,o),l(s.afterMove,S),l(s.afterAdd,f),h.a.f.set(i,n,_)}}(),h.b("utils.setDomNodeChildrenFromArrayMapping",h.a.Ua),h.K=function(){this.allowTemplateRewriting=!1},h.K.prototype=new h.C,h.K.prototype.renderTemplateSource=function(e){var t=(9>h.a.oa?0:e.nodes)?e.nodes():null;return t?h.a.R(t.cloneNode(!0).childNodes):(e=e.text(),h.a.Qa(e))},h.K.Ja=new h.K,h.Wa(h.K.Ja),h.b("nativeTemplateEngine",h.K),function(){h.La=function(){var e=this.ac=function(){if(!o||!o.tmpl)return 0;try{if(0<=o.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,i,r){if(r=r||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var s=t.data("precompiled");return s||(s=t.text()||"",s=o.template(null,"{{ko_with $item.koBindingContext}}"+s+"{{/ko_with}}"),t.data("precompiled",s)),t=[i.$data],i=o.extend({koBindingContext:i},r.templateOptions),i=o.tmpl(s,t,i),i.appendTo(n.createElement("div")),o.fragments={},i},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){n.write("<script type='text/html' id='"+e+"'>"+t+"</script>")},e>0&&(o.tmpl.tag.ko_code={open:"__.push($1 || '');"},o.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},h.La.prototype=new h.C;var e=new h.La;0<e.ac&&h.Wa(e),h.b("jqueryTmplTemplateEngine",h.La)}()})}()}(),L.Control.OsmGeocoder=L.Control.extend({options:{position:"topleft",keepOpen:!1,showMarker:!0,bounds:null,email:null,searchLabel:"Search..."},initialize:function(e){L.Util.setOptions(this,e)},onAdd:function(e){var t=this,n=L.DomUtil.create("div","leaflet-control-mapbox-geocoder leaflet-bar leaflet-control"),i=$("#geocoderContainer")[0],o=L.DomUtil.create("a","leaflet-control-mapbox-geocoder-toggle mapbox-icon mapbox-icon-geocoder",i),r=L.DomUtil.create("div","leaflet-control-mapbox-geocoder-results",i),s=L.DomUtil.create("div","leaflet-control-mapbox-geocoder-wrap",i),a=L.DomUtil.create("form","leaflet-control-mapbox-geocoder-form",s),u=L.DomUtil.create("input","",a);return o.href="#",o.innerHTML="&nbsp;",u.type="text",u.placeholder=this.options.searchLabel,L.DomEvent.addListener(a,"submit",this._geocode,this),L.DomEvent.disableClickPropagation(i),this._map=e,this._results=r,this._input=u,this._form=a,this._geocoderContainer=i,this.options.keepOpen?L.DomUtil.addClass(i,"active"):(this._map.on("click",this._closeIfOpen,this),L.DomEvent.addListener(o,"click",this._toggle,this)),$(o).on("click",function(e){t._geocode(e)}),$(u).on("keyup",function(e){var n=$(this).val().length;1>n?t._results.innerHTML="":n>=3&&t._geocode(e)}),n},_callback:function(e){if(0!=e.length)if(this._results.innerHTML="",1===e.length)this._showLocation(e[0]),this._closeIfOpen();else for(var t=0,n=Math.min(e.length,this._config.maxResults);n>t;t++){var i=[];if(e[t].display_name&&i.push(e[t].display_name),i.length){var o=L.DomUtil.create("a","",this._results);o.innerHTML=i.join(", "),o.href="#",L.bind(function(e){L.DomEvent.addListener(o,"click",function(t){this._showLocation(e),this._closeIfOpen(),this._results.innerHTML="",this._input.value=e.display_name,L.DomEvent.stop(t)},this)},this)(e[t])}}},_callbackId:0,_closeIfOpen:function(e){L.DomUtil.hasClass(this._geocoderContainer,"active")&&!this.options.keepOpen&&(L.DomUtil.removeClass(this._geocoderContainer,"active"),this._results.innerHTML="",this._input.blur())},_config:{maxResults:10},_createSearchResult:function(e,t){var n=.005,i=[];return i[0]={},i[0].boundingbox=[parseFloat(e)-n,parseFloat(e)+n,parseFloat(t)-n,parseFloat(t)+n],i[0]["class"]="boundary",i[0].display_name="Position: "+e+" "+t,i[0].lat=e,i[0].lon=t,i},_geocode:function(e){L.DomEvent.preventDefault(e);var t=this._input.value;if(null!=this._isLatLon(t)){var n=this._isLatLon(t);return void this._callback.call(this,this._createSearchResult(n[1],n[2]))}if(null!=this._isLatLon_decMin(t)){var n=this._isLatLon_decMin(t),i=new Array;return i.n=1,i.s=-1,i.e=1,i.w=-1,void this._callback.call(this,this._createSearchResult(i[n[1]]*(Number(n[2])+n[3]/60),i[n[4]]*(Number(n[5])+n[6]/60)))}window["_l_osmgeocoder_"+this._callbackId]=L.Util.bind(this._callback,this);var o={q:this._input.value,json_callback:"_l_osmgeocoder_"+this._callbackId++,format:"json"};if(this.options.bounds&&null!=this.options.bounds){if(!(this.options.bounds instanceof L.LatLngBounds))return;o.viewbox=this.options.bounds.toBBoxString(),o.bounded=1}this.options.email&&null!=this.options.email&&"string"==typeof this.options.email&&(o.email=this.options.email);var r="//nominatim.openstreetmap.org/search"+L.Util.getParamString(o),s=document.createElement("script");s.type="text/javascript",s.src=r,s.id=this._callbackId,document.getElementsByTagName("head")[0].appendChild(s)},_isLatLon:function(e){var t=/(-?\d+\.\d+)\s(-?\d+\.\d+)/,n=t.exec(e);return void 0!=n?n:(t=/lat\D*(-?\d+\.\d+)\D*lon\D*(-?\d+\.\d+)/,n=t.exec(e),void 0!=n?n:null)},_isLatLon_decMin:function(e){var t=/([ns])\s*(\d+)\D*(\d+\.\d+).?\s*([ew])\s*(\d+)\D*(\d+\.\d+)/i,n=t.exec(e.toLowerCase());return void 0!=n?n:null},_showLocation:function(e){1==this.options.showMarker&&("undefined"==typeof this._positionMarker?this._positionMarker=L.marker([e.lat,e.lon]).addTo(this._map):this._positionMarker.setLatLng([e.lat,e.lon]));var t=e.boundingbox,n=new L.LatLng(t[0],t[2]),i=new L.LatLng(t[1],t[3]),o=new L.LatLngBounds([n,i]);this._map.fitBounds(o)},_toggle:function(e){e&&L.DomEvent.stop(e),L.DomUtil.hasClass(this._geocoderContainer,"active")?(L.DomUtil.removeClass(this._geocoderContainer,"active"),this._results.innerHTML="",this._input.blur()):(L.DomUtil.addClass(this._geocoderContainer,"active"),this._input.focus(),this._input.select())}}),function(){var e=L.Marker.prototype.onAdd,t=L.Marker.prototype.onRemove;L.Marker.mergeOptions({bounceOnAdd:!1,bounceOnAddOptions:{duration:1e3,height:-1},bounceOnAddCallback:function(){}}),L.Marker.include({_toPoint:function(e){return this._map.latLngToContainerPoint(e)},_toLatLng:function(e){return this._map.containerPointToLatLng(e)},_motionStep:function(e){var t=this,n=new Date;t._intervalId=setInterval(function(){var i=new Date-n,o=i/e.duration;o>1&&(o=1);var r=e.delta(o);e.step(r),1===o&&(e.end(),clearInterval(t._intervalId))},e.delay||10)},_bounceMotion:function(e,t,n){var i=L.latLng(this._origLatlng),o=this._dropPoint.y,r=this._dropPoint.x,s=this._point.y-o,a=this;this._motionStep({delay:10,duration:t||1e3,delta:e,step:function(e){a._dropPoint.y=o+s*e-(a._map.project(a._map.getCenter()).y-a._origMapCenter.y),a._dropPoint.x=r-(a._map.project(a._map.getCenter()).x-a._origMapCenter.x),a.setLatLng(a._toLatLng(a._dropPoint))},end:function(){a.setLatLng(i),"function"==typeof n&&n()}})},_easeOutBounce:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounce:function(e,t){this._origLatlng=this.getLatLng(),this._bounce(e,t)},_bounce:function(e,t){"function"==typeof e&&(t=e,e=null),e=e||{duration:1e3,height:-1},"number"==typeof e&&(e.duration=arguments[0],e.height=arguments[1]),this._origMapCenter=this._map.project(this._map.getCenter()),this._dropPoint=this._getDropPoint(e.height),this._bounceMotion(this._easeOutBounce,e.duration,t)},_getDropPoint:function(e){this._point=this._toPoint(this._origLatlng);var t;return t=void 0===e||0>e?this._toPoint(this._map.getBounds()._northEast).y:this._point.y-e,new L.Point(this._point.x,t)},onAdd:function(t){this._map=t,this._origLatlng=this._latlng,this.options.bounceOnAdd===!0&&("undefined"!=typeof this.options.bounceOnAddDuration&&(this.options.bounceOnAddOptions.duration=this.options.bounceOnAddDuration),"undefined"!=typeof this.options.bounceOnAddHeight&&(this.options.bounceOnAddOptions.height=this.options.bounceOnAddHeight),this._dropPoint=this._getDropPoint(this.options.bounceOnAddOptions.height),this.setLatLng(this._toLatLng(this._dropPoint))),e.call(this,t),this.options.bounceOnAdd===!0&&this._bounce(this.options.bounceOnAddOptions,this.options.bounceOnAddCallback)},onRemove:function(e){clearInterval(this._intervalId),t.call(this,e)}})}(),function(e,t,n){"$:nomunge";function i(){o=t[a](function(){r.each(function(){var t=e(this),n=t.width(),i=t.height(),o=e.data(this,l);(n!==o.w||i!==o.h)&&t.trigger(u,[o.w=n,o.h=i])}),i()},s[c])}var o,r=e([]),s=e.resize=e.extend(e.resize,{}),a="setTimeout",u="resize",l=u+"-special-event",c="delay",h="throttleWindow";s[c]=250,s[h]=!0,e.event.special[u]={setup:function(){if(!s[h]&&this[a])return!1;var t=e(this);r=r.add(t),e.data(this,l,{w:t.width(),h:t.height()}),1===r.length&&i()},teardown:function(){if(!s[h]&&this[a])return!1;var t=e(this);r=r.not(t),t.removeData(l),r.length||clearTimeout(o)},add:function(t){function i(t,i,r){var s=e(this),a=e.data(this,l);a.w=i!==n?i:s.width(),a.h=r!==n?r:s.height(),o.apply(this,arguments)}if(!s[h]&&this[a])return!1;var o;return e.isFunction(t)?(o=t,i):(o=t.handler,void(t.handler=i))}}}(jQuery,this),function(e){var t={pips:function(t){var n={first:"label",last:"label",rest:"pip",labels:!1,prefix:"",suffix:""};e.extend(n,t),this.options.labels=n.labels,this.element.addClass("ui-slider-pips").find(".ui-slider-pip").remove();for(var i=(this.options.max-this.options.min)/this.options.step,o=0;i>=o;o++){var r=this.options.labels?this.options.labels[o]:this.options.min+this.options.step*o;"undefined"==typeof r&&(r="");var s=e('<span class="ui-slider-pip ui-slider-pip-'+o+'"><span class="ui-slider-line"></span><span class="ui-slider-label">'+n.prefix+r+n.suffix+"</span></span>");0===o?(s.addClass("ui-slider-pip-first"),"label"===n.first&&s.addClass("ui-slider-pip-label"),!1===n.first&&s.addClass("ui-slider-pip-hide")):i===o?(s.addClass("ui-slider-pip-last"),"label"===n.last&&s.addClass("ui-slider-pip-label"),!1===n.last&&s.addClass("ui-slider-pip-hide")):("label"===n.rest&&s.addClass("ui-slider-pip-label"),!1===n.rest&&s.addClass("ui-slider-pip-hide")),"horizontal"===this.options.orientation?s.css({left:""+100/i*o+"%"}):s.css({bottom:""+100/i*o+"%"}),this.element.append(s)}}};e.extend(!0,e.ui.slider.prototype,t)}(jQuery),function(e){var t={"float":function(t){var n={handle:!0,labels:!0,prefix:"",suffix:"",data:""};if(e.extend(n,t),this.options.data=n.data,this.element.addClass("ui-slider-float"),n.handle){var i;i=this.options.values?[e('<span class="ui-slider-tip">'+n.prefix+e.datepicker.formatDate("dd/mm/yy",this.options.data[this.options.values[0]])+n.suffix+"</span>"),e('<span class="ui-slider-tip">'+n.prefix+e.datepicker.formatDate("dd/mm/yy",this.options.data[this.options.values[1]])+n.suffix+"</span>")]:e('<span class="ui-slider-tip">'+n.prefix+this.options.data[this.options.value]+n.suffix+"</span>"),this.element.find(".ui-slider-handle").each(function(t,n){e(n).append(i[t])})}n.labels&&this.element.find(".ui-slider-label").each(function(t,n){var i=e(n).clone().removeClass("ui-slider-label").addClass("ui-slider-tip-label");i.insertAfter(e(n))}),this.element.on("slidechange slide",function(t,i){e(i.handle).find(".ui-slider-tip").html(n.prefix+e.datepicker.formatDate("dd/mm/yy",n.data[i.value])+n.suffix)})}};e.extend(!0,e.ui.slider.prototype,t)}(jQuery),!function(e){"use strict";e.widget("ui.rangeSliderMouseTouch",e.ui.mouse,{enabled:!0,_mouseInit:function(){var t=this;e.ui.mouse.prototype._mouseInit.apply(this),this._mouseDownEvent=!1,this.element.bind("touchstart."+this.widgetName,function(e){return t._touchStart(e)})},_mouseDestroy:function(){e(document).unbind("touchmove."+this.widgetName,this._touchMoveDelegate).unbind("touchend."+this.widgetName,this._touchEndDelegate),e.ui.mouse.prototype._mouseDestroy.apply(this)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},destroy:function(){this._mouseDestroy(),e.ui.mouse.prototype.destroy.apply(this),this._mouseInit=null},_touchStart:function(t){if(!this.enabled)return!1;t.which=1,t.preventDefault(),this._fillTouchEvent(t);var n=this,i=this._mouseDownEvent;this._mouseDown(t),i!==this._mouseDownEvent&&(this._touchEndDelegate=function(e){n._touchEnd(e)},this._touchMoveDelegate=function(e){n._touchMove(e)},e(document).bind("touchmove."+this.widgetName,this._touchMoveDelegate).bind("touchend."+this.widgetName,this._touchEndDelegate))},_mouseDown:function(t){return this.enabled?e.ui.mouse.prototype._mouseDown.apply(this,[t]):!1},_touchEnd:function(t){this._fillTouchEvent(t),this._mouseUp(t),e(document).unbind("touchmove."+this.widgetName,this._touchMoveDelegate).unbind("touchend."+this.widgetName,this._touchEndDelegate),this._mouseDownEvent=!1,e(document).trigger("mouseup")},_touchMove:function(e){return e.preventDefault(),this._fillTouchEvent(e),this._mouseMove(e)},_fillTouchEvent:function(e){var t;t="undefined"==typeof e.targetTouches&&"undefined"==typeof e.changedTouches?e.originalEvent.targetTouches[0]||e.originalEvent.changedTouches[0]:e.targetTouches[0]||e.changedTouches[0],e.pageX=t.pageX,e.pageY=t.pageY}})}(jQuery),function(e){"use strict";e.widget("ui.rangeSliderDraggable",e.ui.rangeSliderMouseTouch,{cache:null,options:{containment:null},_create:function(){e.ui.rangeSliderMouseTouch.prototype._create.apply(this),setTimeout(e.proxy(this._initElementIfNotDestroyed,this),10)},destroy:function(){this.cache=null,e.ui.rangeSliderMouseTouch.prototype.destroy.apply(this)},_initElementIfNotDestroyed:function(){this._mouseInit&&this._initElement()},_initElement:function(){this._mouseInit(),this._cache()},_setOption:function(t,n){"containment"===t&&(this.options.containment=null===n||0===e(n).length?null:e(n))},_mouseStart:function(e){return this._cache(),this.cache.click={left:e.pageX,top:e.pageY},this.cache.initialOffset=this.element.offset(),this._triggerMouseEvent("mousestart"),!0},_mouseDrag:function(e){var t=e.pageX-this.cache.click.left;return t=this._constraintPosition(t+this.cache.initialOffset.left),this._applyPosition(t),this._triggerMouseEvent("sliderDrag"),!1},_mouseStop:function(){this._triggerMouseEvent("stop")},_constraintPosition:function(e){return 0!==this.element.parent().length&&null!==this.cache.parent.offset&&(e=Math.min(e,this.cache.parent.offset.left+this.cache.parent.width-this.cache.width.outer),e=Math.max(e,this.cache.parent.offset.left)),e},_applyPosition:function(e){var t={top:this.cache.offset.top,left:e};this.element.offset({left:e}),this.cache.offset=t},_cacheIfNecessary:function(){null===this.cache&&this._cache()},_cache:function(){this.cache={},this._cacheMargins(),this._cacheParent(),this._cacheDimensions(),this.cache.offset=this.element.offset()},_cacheMargins:function(){this.cache.margin={left:this._parsePixels(this.element,"marginLeft"),right:this._parsePixels(this.element,"marginRight"),top:this._parsePixels(this.element,"marginTop"),bottom:this._parsePixels(this.element,"marginBottom")}},_cacheParent:function(){if(null!==this.options.parent){var e=this.element.parent();this.cache.parent={offset:e.offset(),width:e.width()}}else this.cache.parent=null},_cacheDimensions:function(){this.cache.width={outer:this.element.outerWidth(),inner:this.element.width()}},_parsePixels:function(e,t){return parseInt(e.css(t),10)||0},_triggerMouseEvent:function(e){var t=this._prepareEventData();this.element.trigger(e,t)},_prepareEventData:function(){return{element:this.element,offset:this.cache.offset||null}}})}(jQuery),function(e,t){"use strict";e.widget("ui.rangeSlider",{
options:{bounds:{min:0,max:100},defaultValues:{min:20,max:50},wheelMode:null,wheelSpeed:4,arrows:!0,valueLabels:"show",formatter:null,durationIn:0,durationOut:400,delayOut:200,range:{min:!1,max:!1},step:!1,scales:!1,enabled:!0,symmetricPositionning:!1},_values:null,_valuesChanged:!1,_initialized:!1,bar:null,leftHandle:null,rightHandle:null,innerBar:null,container:null,arrows:null,labels:null,changing:{min:!1,max:!1},changed:{min:!1,max:!1},ruler:null,_create:function(){this._setDefaultValues(),this.labels={left:null,right:null,leftDisplayed:!0,rightDisplayed:!0},this.arrows={left:null,right:null},this.changing={min:!1,max:!1},this.changed={min:!1,max:!1},this._createElements(),this._bindResize(),setTimeout(e.proxy(this.resize,this),1),setTimeout(e.proxy(this._initValues,this),1)},_setDefaultValues:function(){this._values={min:this.options.defaultValues.min,max:this.options.defaultValues.max}},_bindResize:function(){var t=this;this._resizeProxy=function(e){t.resize(e)},e(window).resize(this._resizeProxy)},_initWidth:function(){this.container.css("width",this.element.width()-this.container.outerWidth(!0)+this.container.width()),this.innerBar.css("width",this.container.width()-this.innerBar.outerWidth(!0)+this.innerBar.width())},_initValues:function(){this._initialized=!0,this.values(this._values.min,this._values.max)},_setOption:function(e,t){this._setWheelOption(e,t),this._setArrowsOption(e,t),this._setLabelsOption(e,t),this._setLabelsDurations(e,t),this._setFormatterOption(e,t),this._setBoundsOption(e,t),this._setRangeOption(e,t),this._setStepOption(e,t),this._setScalesOption(e,t),this._setEnabledOption(e,t),this._setPositionningOption(e,t)},_validProperty:function(e,t,n){return null===e||"undefined"==typeof e[t]?n:e[t]},_setStepOption:function(e,t){"step"===e&&(this.options.step=t,this._leftHandle("option","step",t),this._rightHandle("option","step",t),this._changed(!0))},_setScalesOption:function(e,t){"scales"===e&&(t===!1||null===t?(this.options.scales=!1,this._destroyRuler()):t instanceof Array&&(this.options.scales=t,this._updateRuler()))},_setRangeOption:function(e,t){"range"===e&&(this._bar("option","range",t),this.options.range=this._bar("option","range"),this._changed(!0))},_setBoundsOption:function(e,t){"bounds"===e&&"undefined"!=typeof t.min&&"undefined"!=typeof t.max&&this.bounds(t.min,t.max)},_setWheelOption:function(e,t){("wheelMode"===e||"wheelSpeed"===e)&&(this._bar("option",e,t),this.options[e]=this._bar("option",e))},_setLabelsOption:function(e,t){if("valueLabels"===e){if("hide"!==t&&"show"!==t&&"change"!==t)return;this.options.valueLabels=t,"hide"!==t?(this._createLabels(),this._leftLabel("update"),this._rightLabel("update")):this._destroyLabels()}},_setFormatterOption:function(e,t){"formatter"===e&&null!==t&&"function"==typeof t&&"hide"!==this.options.valueLabels&&(this._leftLabel("option","formatter",t),this.options.formatter=this._rightLabel("option","formatter",t))},_setArrowsOption:function(e,t){"arrows"!==e||t!==!0&&t!==!1||t===this.options.arrows||(t===!0?(this.element.removeClass("ui-rangeSlider-noArrow").addClass("ui-rangeSlider-withArrows"),this.arrows.left.css("display","block"),this.arrows.right.css("display","block"),this.options.arrows=!0):t===!1&&(this.element.addClass("ui-rangeSlider-noArrow").removeClass("ui-rangeSlider-withArrows"),this.arrows.left.css("display","none"),this.arrows.right.css("display","none"),this.options.arrows=!1),this._initWidth())},_setLabelsDurations:function(e,t){if("durationIn"===e||"durationOut"===e||"delayOut"===e){if(parseInt(t,10)!==t)return;null!==this.labels.left&&this._leftLabel("option",e,t),null!==this.labels.right&&this._rightLabel("option",e,t),this.options[e]=t}},_setEnabledOption:function(e,t){"enabled"===e&&this.toggle(t)},_setPositionningOption:function(e,t){"symmetricPositionning"===e&&(this._rightHandle("option",e,t),this.options[e]=this._leftHandle("option",e,t))},_createElements:function(){"absolute"!==this.element.css("position")&&this.element.css("position","relative"),this.element.addClass("ui-rangeSlider"),this.container=e("<div class='ui-rangeSlider-container' />").css("position","absolute").appendTo(this.element),this.innerBar=e("<div class='ui-rangeSlider-innerBar' />").css("position","absolute").css("top",0).css("left",0),this._createHandles(),this._createBar(),this.container.prepend(this.innerBar),this._createArrows(),"hide"!==this.options.valueLabels?this._createLabels():this._destroyLabels(),this._updateRuler(),this.options.enabled||this._toggle(this.options.enabled)},_createHandle:function(t){return e("<div />")[this._handleType()](t).bind("sliderDrag",e.proxy(this._changing,this)).bind("stop",e.proxy(this._changed,this))},_createHandles:function(){this.leftHandle=this._createHandle({isLeft:!0,bounds:this.options.bounds,value:this._values.min,step:this.options.step,symmetricPositionning:this.options.symmetricPositionning}).appendTo(this.container),this.rightHandle=this._createHandle({isLeft:!1,bounds:this.options.bounds,value:this._values.max,step:this.options.step,symmetricPositionning:this.options.symmetricPositionning}).appendTo(this.container)},_createBar:function(){this.bar=e("<div />").prependTo(this.container).bind("sliderDrag scroll zoom",e.proxy(this._changing,this)).bind("stop",e.proxy(this._changed,this)),this._bar({leftHandle:this.leftHandle,rightHandle:this.rightHandle,values:{min:this._values.min,max:this._values.max},type:this._handleType(),range:this.options.range,wheelMode:this.options.wheelMode,wheelSpeed:this.options.wheelSpeed}),this.options.range=this._bar("option","range"),this.options.wheelMode=this._bar("option","wheelMode"),this.options.wheelSpeed=this._bar("option","wheelSpeed")},_createArrows:function(){this.arrows.left=this._createArrow("left"),this.arrows.right=this._createArrow("right"),this.options.arrows?this.element.addClass("ui-rangeSlider-withArrows"):(this.arrows.left.css("display","none"),this.arrows.right.css("display","none"),this.element.addClass("ui-rangeSlider-noArrow"))},_createArrow:function(t){var n,i=e("<div class='ui-rangeSlider-arrow' />").append("<div class='ui-rangeSlider-arrow-inner' />").addClass("ui-rangeSlider-"+t+"Arrow").css("position","absolute").css(t,0).appendTo(this.element);return n="right"===t?e.proxy(this._scrollRightClick,this):e.proxy(this._scrollLeftClick,this),i.bind("mousedown touchstart",n),i},_proxy:function(e,t,n){var i=Array.prototype.slice.call(n);return e&&e[t]?e[t].apply(e,i):null},_handleType:function(){return"rangeSliderHandle"},_barType:function(){return"rangeSliderBar"},_bar:function(){return this._proxy(this.bar,this._barType(),arguments)},_labelType:function(){return"rangeSliderLabel"},_leftLabel:function(){return this._proxy(this.labels.left,this._labelType(),arguments)},_rightLabel:function(){return this._proxy(this.labels.right,this._labelType(),arguments)},_leftHandle:function(){return this._proxy(this.leftHandle,this._handleType(),arguments)},_rightHandle:function(){return this._proxy(this.rightHandle,this._handleType(),arguments)},_getValue:function(e,t){return t===this.rightHandle&&(e-=t.outerWidth()),e*(this.options.bounds.max-this.options.bounds.min)/(this.container.innerWidth()-t.outerWidth(!0))+this.options.bounds.min},_trigger:function(e){var t=this;setTimeout(function(){t.element.trigger(e,{label:t.element,values:t.values()})},1)},_changing:function(){this._updateValues()&&(this._trigger("valuesChanging"),this._valuesChanged=!0)},_deactivateLabels:function(){"change"===this.options.valueLabels&&(this._leftLabel("option","show","hide"),this._rightLabel("option","show","hide"))},_reactivateLabels:function(){"change"===this.options.valueLabels&&(this._leftLabel("option","show","change"),this._rightLabel("option","show","change"))},_changed:function(e){e===!0&&this._deactivateLabels(),(this._updateValues()||this._valuesChanged)&&(this._trigger("valuesChanged"),e!==!0&&this._trigger("userValuesChanged"),this._valuesChanged=!1),e===!0&&this._reactivateLabels()},_updateValues:function(){var e=this._leftHandle("value"),t=this._rightHandle("value"),n=this._min(e,t),i=this._max(e,t),o=n!==this._values.min||i!==this._values.max;return this._values.min=this._min(e,t),this._values.max=this._max(e,t),o},_min:function(e,t){return Math.min(e,t)},_max:function(e,t){return Math.max(e,t)},_createLabel:function(t,n){var i;return null===t?(i=this._getLabelConstructorParameters(t,n),t=e("<div />").appendTo(this.element)[this._labelType()](i)):(i=this._getLabelRefreshParameters(t,n),t[this._labelType()](i)),t},_getLabelConstructorParameters:function(e,t){return{handle:t,handleType:this._handleType(),formatter:this._getFormatter(),show:this.options.valueLabels,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}},_getLabelRefreshParameters:function(){return{formatter:this._getFormatter(),show:this.options.valueLabels,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}},_getFormatter:function(){return this.options.formatter===!1||null===this.options.formatter?this._defaultFormatter:this.options.formatter},_defaultFormatter:function(e){return Math.round(e)},_destroyLabel:function(e){return null!==e&&(e[this._labelType()]("destroy"),e.remove(),e=null),e},_createLabels:function(){this.labels.left=this._createLabel(this.labels.left,this.leftHandle),this.labels.right=this._createLabel(this.labels.right,this.rightHandle),this._leftLabel("pair",this.labels.right)},_destroyLabels:function(){this.labels.left=this._destroyLabel(this.labels.left),this.labels.right=this._destroyLabel(this.labels.right)},_stepRatio:function(){return this._leftHandle("stepRatio")},_scrollRightClick:function(e){return this.options.enabled?(e.preventDefault(),this._bar("startScroll"),this._bindStopScroll(),void this._continueScrolling("scrollRight",4*this._stepRatio(),1)):!1},_continueScrolling:function(e,t,n,i){if(!this.options.enabled)return!1;this._bar(e,n),i=i||5,i--;var o=this,r=16,s=Math.max(1,4/this._stepRatio());this._scrollTimeout=setTimeout(function(){0===i&&(t>r?t=Math.max(r,t/1.5):n=Math.min(s,2*n),i=5),o._continueScrolling(e,t,n,i)},t)},_scrollLeftClick:function(e){return this.options.enabled?(e.preventDefault(),this._bar("startScroll"),this._bindStopScroll(),void this._continueScrolling("scrollLeft",4*this._stepRatio(),1)):!1},_bindStopScroll:function(){var t=this;this._stopScrollHandle=function(e){e.preventDefault(),t._stopScroll()},e(document).bind("mouseup touchend",this._stopScrollHandle)},_stopScroll:function(){e(document).unbind("mouseup touchend",this._stopScrollHandle),this._stopScrollHandle=null,this._bar("stopScroll"),clearTimeout(this._scrollTimeout)},_createRuler:function(){this.ruler=e("<div class='ui-rangeSlider-ruler' />").appendTo(this.innerBar)},_setRulerParameters:function(){this.ruler.ruler({min:this.options.bounds.min,max:this.options.bounds.max,scales:this.options.scales})},_destroyRuler:function(){null!==this.ruler&&e.fn.ruler&&(this.ruler.ruler("destroy"),this.ruler.remove(),this.ruler=null)},_updateRuler:function(){this._destroyRuler(),this.options.scales!==!1&&e.fn.ruler&&(this._createRuler(),this._setRulerParameters())},values:function(e,t){var n;if("undefined"!=typeof e&&"undefined"!=typeof t){if(!this._initialized)return this._values.min=e,this._values.max=t,this._values;this._deactivateLabels(),n=this._bar("values",e,t),this._changed(!0),this._reactivateLabels()}else n=this._bar("values",e,t);return n},min:function(e){return this._values.min=this.values(e,this._values.max).min,this._values.min},max:function(e){return this._values.max=this.values(this._values.min,e).max,this._values.max},bounds:function(e,t){return this._isValidValue(e)&&this._isValidValue(t)&&t>e&&(this._setBounds(e,t),this._updateRuler(),this._changed(!0)),this.options.bounds},_isValidValue:function(e){return"undefined"!=typeof e&&parseFloat(e)===e},_setBounds:function(e,t){this.options.bounds={min:e,max:t},this._leftHandle("option","bounds",this.options.bounds),this._rightHandle("option","bounds",this.options.bounds),this._bar("option","bounds",this.options.bounds)},zoomIn:function(e){this._bar("zoomIn",e)},zoomOut:function(e){this._bar("zoomOut",e)},scrollLeft:function(e){this._bar("startScroll"),this._bar("scrollLeft",e),this._bar("stopScroll")},scrollRight:function(e){this._bar("startScroll"),this._bar("scrollRight",e),this._bar("stopScroll")},resize:function(){this._initWidth(),this._leftHandle("update"),this._rightHandle("update"),this._bar("update")},enable:function(){this.toggle(!0)},disable:function(){this.toggle(!1)},toggle:function(e){e===t&&(e=!this.options.enabled),this.options.enabled!==e&&this._toggle(e)},_toggle:function(e){this.options.enabled=e,this.element.toggleClass("ui-rangeSlider-disabled",!e);var t=e?"enable":"disable";this._bar(t),this._leftHandle(t),this._rightHandle(t),this._leftLabel(t),this._rightLabel(t)},destroy:function(){this.element.removeClass("ui-rangeSlider-withArrows ui-rangeSlider-noArrow ui-rangeSlider-disabled"),this._destroyWidgets(),this._destroyElements(),this.element.removeClass("ui-rangeSlider"),this.options=null,e(window).unbind("resize",this._resizeProxy),this._resizeProxy=null,this._bindResize=null,e.Widget.prototype.destroy.apply(this,arguments)},_destroyWidget:function(e){this["_"+e]("destroy"),this[e].remove(),this[e]=null},_destroyWidgets:function(){this._destroyWidget("bar"),this._destroyWidget("leftHandle"),this._destroyWidget("rightHandle"),this._destroyRuler(),this._destroyLabels()},_destroyElements:function(){this.container.remove(),this.container=null,this.innerBar.remove(),this.innerBar=null,this.arrows.left.remove(),this.arrows.right.remove(),this.arrows=null}})}(jQuery),function(e){"use strict";e.widget("ui.rangeSliderHandle",e.ui.rangeSliderDraggable,{currentMove:null,margin:0,parentElement:null,options:{isLeft:!0,bounds:{min:0,max:100},range:!1,value:0,step:!1},_value:0,_left:0,_create:function(){e.ui.rangeSliderDraggable.prototype._create.apply(this),this.element.css("position","absolute").css("top",0).addClass("ui-rangeSlider-handle").toggleClass("ui-rangeSlider-leftHandle",this.options.isLeft).toggleClass("ui-rangeSlider-rightHandle",!this.options.isLeft),this.element.append("<div class='ui-rangeSlider-handle-inner' />"),this._value=this._constraintValue(this.options.value)},destroy:function(){this.element.empty(),e.ui.rangeSliderDraggable.prototype.destroy.apply(this)},_setOption:function(t,n){"isLeft"!==t||n!==!0&&n!==!1||n===this.options.isLeft?"step"===t&&this._checkStep(n)?(this.options.step=n,this.update()):"bounds"===t?(this.options.bounds=n,this.update()):"range"===t&&this._checkRange(n)?(this.options.range=n,this.update()):"symmetricPositionning"===t&&(this.options.symmetricPositionning=n===!0,this.update()):(this.options.isLeft=n,this.element.toggleClass("ui-rangeSlider-leftHandle",this.options.isLeft).toggleClass("ui-rangeSlider-rightHandle",!this.options.isLeft),this._position(this._value),this.element.trigger("switch",this.options.isLeft)),e.ui.rangeSliderDraggable.prototype._setOption.apply(this,[t,n])},_checkRange:function(e){return e===!1||!this._isValidValue(e.min)&&!this._isValidValue(e.max)},_isValidValue:function(e){return"undefined"!=typeof e&&e!==!1&&parseFloat(e)!==e},_checkStep:function(e){return e===!1||parseFloat(e)===e},_initElement:function(){e.ui.rangeSliderDraggable.prototype._initElement.apply(this),0===this.cache.parent.width||null===this.cache.parent.width?setTimeout(e.proxy(this._initElementIfNotDestroyed,this),500):(this._position(this._value),this._triggerMouseEvent("initialize"))},_bounds:function(){return this.options.bounds},_cache:function(){e.ui.rangeSliderDraggable.prototype._cache.apply(this),this._cacheParent()},_cacheParent:function(){var e=this.element.parent();this.cache.parent={element:e,offset:e.offset(),padding:{left:this._parsePixels(e,"paddingLeft")},width:e.width()}},_position:function(e){var t=this._getPositionForValue(e);this._applyPosition(t)},_constraintPosition:function(e){var t=this._getValueForPosition(e);return this._getPositionForValue(t)},_applyPosition:function(t){e.ui.rangeSliderDraggable.prototype._applyPosition.apply(this,[t]),this._left=t,this._setValue(this._getValueForPosition(t)),this._triggerMouseEvent("moving")},_prepareEventData:function(){var t=e.ui.rangeSliderDraggable.prototype._prepareEventData.apply(this);return t.value=this._value,t},_setValue:function(e){e!==this._value&&(this._value=e)},_constraintValue:function(e){if(e=Math.min(e,this._bounds().max),e=Math.max(e,this._bounds().min),e=this._round(e),this.options.range!==!1){var t=this.options.range.min||!1,n=this.options.range.max||!1;t!==!1&&(e=Math.max(e,this._round(t))),n!==!1&&(e=Math.min(e,this._round(n))),e=Math.min(e,this._bounds().max),e=Math.max(e,this._bounds().min)}return e},_round:function(e){return this.options.step!==!1&&this.options.step>0?Math.round(e/this.options.step)*this.options.step:e},_getPositionForValue:function(e){if(!this.cache||!this.cache.parent||null===this.cache.parent.offset)return 0;e=this._constraintValue(e);var t=(e-this.options.bounds.min)/(this.options.bounds.max-this.options.bounds.min),n=this.cache.parent.width,i=this.cache.parent.offset.left,o=this.options.isLeft?0:this.cache.width.outer;return this.options.symmetricPositionning?t*(n-2*this.cache.width.outer)+i+o:t*n+i-o},_getValueForPosition:function(e){var t=this._getRawValueForPositionAndBounds(e,this.options.bounds.min,this.options.bounds.max);return this._constraintValue(t)},_getRawValueForPositionAndBounds:function(e,t,n){var i,o,r=null===this.cache.parent.offset?0:this.cache.parent.offset.left;return this.options.symmetricPositionning?(e-=this.options.isLeft?0:this.cache.width.outer,i=this.cache.parent.width-2*this.cache.width.outer):(e+=this.options.isLeft?0:this.cache.width.outer,i=this.cache.parent.width),0===i?this._value:(o=(e-r)/i,o*(n-t)+t)},value:function(e){return"undefined"!=typeof e&&(this._cache(),e=this._constraintValue(e),this._position(e)),this._value},update:function(){this._cache();var e=this._constraintValue(this._value),t=this._getPositionForValue(e);e!==this._value?(this._triggerMouseEvent("updating"),this._position(e),this._triggerMouseEvent("update")):t!==this.cache.offset.left&&(this._triggerMouseEvent("updating"),this._position(e),this._triggerMouseEvent("update"))},position:function(e){return"undefined"!=typeof e&&(this._cache(),e=this._constraintPosition(e),this._applyPosition(e)),this._left},add:function(e,t){return e+t},substract:function(e,t){return e-t},stepsBetween:function(e,t){return this.options.step===!1?t-e:(t-e)/this.options.step},multiplyStep:function(e,t){return e*t},moveRight:function(e){var t;return this.options.step===!1?(t=this._left,this.position(this._left+e),this._left-t):(t=this._value,this.value(this.add(t,this.multiplyStep(this.options.step,e))),this.stepsBetween(t,this._value))},moveLeft:function(e){return-this.moveRight(-e)},stepRatio:function(){if(this.options.step===!1)return 1;var e=(this.options.bounds.max-this.options.bounds.min)/this.options.step;return this.cache.parent.width/e}})}(jQuery),function(e){"use strict";function t(e,t){return"undefined"==typeof e?t||!1:e}e.widget("ui.rangeSliderBar",e.ui.rangeSliderDraggable,{options:{leftHandle:null,rightHandle:null,bounds:{min:0,max:100},type:"rangeSliderHandle",range:!1,drag:function(){},stop:function(){},values:{min:0,max:20},wheelSpeed:4,wheelMode:null},_values:{min:0,max:20},_waitingToInit:2,_wheelTimeout:!1,_create:function(){e.ui.rangeSliderDraggable.prototype._create.apply(this),this.element.css("position","absolute").css("top",0).addClass("ui-rangeSlider-bar"),this.options.leftHandle.bind("initialize",e.proxy(this._onInitialized,this)).bind("mousestart",e.proxy(this._cache,this)).bind("stop",e.proxy(this._onHandleStop,this)),this.options.rightHandle.bind("initialize",e.proxy(this._onInitialized,this)).bind("mousestart",e.proxy(this._cache,this)).bind("stop",e.proxy(this._onHandleStop,this)),this._bindHandles(),this._values=this.options.values,this._setWheelModeOption(this.options.wheelMode)},destroy:function(){this.options.leftHandle.unbind(".bar"),this.options.rightHandle.unbind(".bar"),this.options=null,e.ui.rangeSliderDraggable.prototype.destroy.apply(this)},_setOption:function(e,t){"range"===e?this._setRangeOption(t):"wheelSpeed"===e?this._setWheelSpeedOption(t):"wheelMode"===e&&this._setWheelModeOption(t)},_setRangeOption:function(e){if(("object"!=typeof e||null===e)&&(e=!1),e!==!1||this.options.range!==!1){if(e!==!1){var n=t(e.min,this.options.range.min),i=t(e.max,this.options.range.max);this.options.range={min:n,max:i}}else this.options.range=!1;this._setLeftRange(),this._setRightRange()}},_setWheelSpeedOption:function(e){"number"==typeof e&&e>0&&(this.options.wheelSpeed=e)},_setWheelModeOption:function(e){(null===e||e===!1||"zoom"===e||"scroll"===e)&&(this.options.wheelMode!==e&&this.element.parent().unbind("mousewheel.bar"),this._bindMouseWheel(e),this.options.wheelMode=e)},_bindMouseWheel:function(t){"zoom"===t?this.element.parent().bind("mousewheel.bar",e.proxy(this._mouseWheelZoom,this)):"scroll"===t&&this.element.parent().bind("mousewheel.bar",e.proxy(this._mouseWheelScroll,this))},_setLeftRange:function(){if(this.options.range===!1)return!1;var e=this._values.max,t={min:!1,max:!1};t.max="undefined"!=typeof this.options.range.min&&this.options.range.min!==!1?this._leftHandle("substract",e,this.options.range.min):!1,t.min="undefined"!=typeof this.options.range.max&&this.options.range.max!==!1?this._leftHandle("substract",e,this.options.range.max):!1,this._leftHandle("option","range",t)},_setRightRange:function(){var e=this._values.min,t={min:!1,max:!1};t.min="undefined"!=typeof this.options.range.min&&this.options.range.min!==!1?this._rightHandle("add",e,this.options.range.min):!1,t.max="undefined"!=typeof this.options.range.max&&this.options.range.max!==!1?this._rightHandle("add",e,this.options.range.max):!1,this._rightHandle("option","range",t)},_deactivateRange:function(){this._leftHandle("option","range",!1),this._rightHandle("option","range",!1)},_reactivateRange:function(){this._setRangeOption(this.options.range)},_onInitialized:function(){this._waitingToInit--,0===this._waitingToInit&&this._initMe()},_initMe:function(){this._cache(),this.min(this._values.min),this.max(this._values.max);var e=this._leftHandle("position"),t=this._rightHandle("position")+this.options.rightHandle.width();this.element.offset({left:e}),this.element.css("width",t-e)},_leftHandle:function(){return this._handleProxy(this.options.leftHandle,arguments)},_rightHandle:function(){return this._handleProxy(this.options.rightHandle,arguments)},_handleProxy:function(e,t){var n=Array.prototype.slice.call(t);return e[this.options.type].apply(e,n)},_cache:function(){e.ui.rangeSliderDraggable.prototype._cache.apply(this),this._cacheHandles()},_cacheHandles:function(){this.cache.rightHandle={},this.cache.rightHandle.width=this.options.rightHandle.width(),this.cache.rightHandle.offset=this.options.rightHandle.offset(),this.cache.leftHandle={},this.cache.leftHandle.offset=this.options.leftHandle.offset()},_mouseStart:function(t){e.ui.rangeSliderDraggable.prototype._mouseStart.apply(this,[t]),this._deactivateRange()},_mouseStop:function(t){e.ui.rangeSliderDraggable.prototype._mouseStop.apply(this,[t]),this._cacheHandles(),this._values.min=this._leftHandle("value"),this._values.max=this._rightHandle("value"),this._reactivateRange(),this._leftHandle().trigger("stop"),this._rightHandle().trigger("stop")},_onDragLeftHandle:function(e,t){if(this._cacheIfNecessary(),t.element[0]===this.options.leftHandle[0]){if(this._switchedValues())return this._switchHandles(),void this._onDragRightHandle(e,t);this._values.min=t.value,this.cache.offset.left=t.offset.left,this.cache.leftHandle.offset=t.offset,this._positionBar()}},_onDragRightHandle:function(e,t){if(this._cacheIfNecessary(),t.element[0]===this.options.rightHandle[0]){if(this._switchedValues())return this._switchHandles(),void this._onDragLeftHandle(e,t);this._values.max=t.value,this.cache.rightHandle.offset=t.offset,this._positionBar()}},_positionBar:function(){var e=this.cache.rightHandle.offset.left+this.cache.rightHandle.width-this.cache.leftHandle.offset.left;this.cache.width.inner=e,this.element.css("width",e).offset({left:this.cache.leftHandle.offset.left})},_onHandleStop:function(){this._setLeftRange(),this._setRightRange()},_switchedValues:function(){if(this.min()>this.max()){var e=this._values.min;return this._values.min=this._values.max,this._values.max=e,!0}return!1},_switchHandles:function(){var e=this.options.leftHandle;this.options.leftHandle=this.options.rightHandle,this.options.rightHandle=e,this._leftHandle("option","isLeft",!0),this._rightHandle("option","isLeft",!1),this._bindHandles(),this._cacheHandles()},_bindHandles:function(){this.options.leftHandle.unbind(".bar").bind("sliderDrag.bar update.bar moving.bar",e.proxy(this._onDragLeftHandle,this)),this.options.rightHandle.unbind(".bar").bind("sliderDrag.bar update.bar moving.bar",e.proxy(this._onDragRightHandle,this))},_constraintPosition:function(t){var n,i={};return i.left=e.ui.rangeSliderDraggable.prototype._constraintPosition.apply(this,[t]),i.left=this._leftHandle("position",i.left),n=this._rightHandle("position",i.left+this.cache.width.outer-this.cache.rightHandle.width),i.width=n-i.left+this.cache.rightHandle.width,i},_applyPosition:function(t){e.ui.rangeSliderDraggable.prototype._applyPosition.apply(this,[t.left]),this.element.width(t.width)},_mouseWheelZoom:function(t,n,i,o){if(!this.enabled)return!1;var r=this._values.min+(this._values.max-this._values.min)/2,s={},a={};return this.options.range===!1||this.options.range.min===!1?(s.max=r,a.min=r):(s.max=r-this.options.range.min/2,a.min=r+this.options.range.min/2),this.options.range!==!1&&this.options.range.max!==!1&&(s.min=r-this.options.range.max/2,a.max=r+this.options.range.max/2),this._leftHandle("option","range",s),this._rightHandle("option","range",a),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(e.proxy(this._wheelStop,this),200),this.zoomIn(o*this.options.wheelSpeed),!1},_mouseWheelScroll:function(t,n,i,o){return this.enabled?(this._wheelTimeout===!1?this.startScroll():clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(e.proxy(this._wheelStop,this),200),this.scrollLeft(o*this.options.wheelSpeed),!1):!1},_wheelStop:function(){this.stopScroll(),this._wheelTimeout=!1},min:function(e){return this._leftHandle("value",e)},max:function(e){return this._rightHandle("value",e)},startScroll:function(){this._deactivateRange()},stopScroll:function(){this._reactivateRange(),this._triggerMouseEvent("stop"),this._leftHandle().trigger("stop"),this._rightHandle().trigger("stop")},scrollLeft:function(e){return e=e||1,0>e?this.scrollRight(-e):(e=this._leftHandle("moveLeft",e),this._rightHandle("moveLeft",e),this.update(),void this._triggerMouseEvent("scroll"))},scrollRight:function(e){return e=e||1,0>e?this.scrollLeft(-e):(e=this._rightHandle("moveRight",e),this._leftHandle("moveRight",e),this.update(),void this._triggerMouseEvent("scroll"))},zoomIn:function(e){if(e=e||1,0>e)return this.zoomOut(-e);var t=this._rightHandle("moveLeft",e);e>t&&(t/=2,this._rightHandle("moveRight",t)),this._leftHandle("moveRight",t),this.update(),this._triggerMouseEvent("zoom")},zoomOut:function(e){if(e=e||1,0>e)return this.zoomIn(-e);var t=this._rightHandle("moveRight",e);e>t&&(t/=2,this._rightHandle("moveLeft",t)),this._leftHandle("moveLeft",t),this.update(),this._triggerMouseEvent("zoom")},values:function(e,t){if("undefined"!=typeof e&&"undefined"!=typeof t){var n=Math.min(e,t),i=Math.max(e,t);this._deactivateRange(),this.options.leftHandle.unbind(".bar"),this.options.rightHandle.unbind(".bar"),this._values.min=this._leftHandle("value",n),this._values.max=this._rightHandle("value",i),this._bindHandles(),this._reactivateRange(),this.update()}return{min:this._values.min,max:this._values.max}},update:function(){this._values.min=this.min(),this._values.max=this.max(),this._cache(),this._positionBar()}})}(jQuery),function(e){"use strict";function t(t,n,i,o){this.label1=t,this.label2=n,this.type=i,this.options=o,this.handle1=this.label1[this.type]("option","handle"),this.handle2=this.label2[this.type]("option","handle"),this.cache=null,this.left=t,this.right=n,this.moving=!1,this.initialized=!1,this.updating=!1,this.Init=function(){this.BindHandle(this.handle1),this.BindHandle(this.handle2),"show"===this.options.show?(setTimeout(e.proxy(this.PositionLabels,this),1),this.initialized=!0):setTimeout(e.proxy(this.AfterInit,this),1e3),this._resizeProxy=e.proxy(this.onWindowResize,this),e(window).resize(this._resizeProxy)},this.Destroy=function(){this._resizeProxy&&(e(window).unbind("resize",this._resizeProxy),this._resizeProxy=null,this.handle1.unbind(".positionner"),this.handle1=null,this.handle2.unbind(".positionner"),this.handle2=null,this.label1=null,this.label2=null,this.left=null,this.right=null),this.cache=null},this.AfterInit=function(){this.initialized=!0},this.Cache=function(){"none"!==this.label1.css("display")&&(this.cache={},this.cache.label1={},this.cache.label2={},this.cache.handle1={},this.cache.handle2={},this.cache.offsetParent={},this.CacheElement(this.label1,this.cache.label1),this.CacheElement(this.label2,this.cache.label2),this.CacheElement(this.handle1,this.cache.handle1),this.CacheElement(this.handle2,this.cache.handle2),this.CacheElement(this.label1.offsetParent(),this.cache.offsetParent))},this.CacheIfNecessary=function(){null===this.cache?this.Cache():(this.CacheWidth(this.label1,this.cache.label1),this.CacheWidth(this.label2,this.cache.label2),this.CacheHeight(this.label1,this.cache.label1),this.CacheHeight(this.label2,this.cache.label2),this.CacheWidth(this.label1.offsetParent(),this.cache.offsetParent))},this.CacheElement=function(e,t){this.CacheWidth(e,t),this.CacheHeight(e,t),t.offset=e.offset(),t.margin={left:this.ParsePixels("marginLeft",e),right:this.ParsePixels("marginRight",e)},t.border={left:this.ParsePixels("borderLeftWidth",e),right:this.ParsePixels("borderRightWidth",e)}},this.CacheWidth=function(e,t){t.width=e.width(),t.outerWidth=e.outerWidth()},this.CacheHeight=function(e,t){t.outerHeightMargin=e.outerHeight(!0)},this.ParsePixels=function(e,t){return parseInt(t.css(e),10)||0},this.BindHandle=function(t){t.bind("updating.positionner",e.proxy(this.onHandleUpdating,this)),t.bind("update.positionner",e.proxy(this.onHandleUpdated,this)),t.bind("moving.positionner",e.proxy(this.onHandleMoving,this)),t.bind("stop.positionner",e.proxy(this.onHandleStop,this))},this.PositionLabels=function(){if(this.CacheIfNecessary(),null!==this.cache){var e=this.GetRawPosition(this.cache.label1,this.cache.handle1),t=this.GetRawPosition(this.cache.label2,this.cache.handle2);this.label1[i]("option","isLeft")?this.ConstraintPositions(e,t):this.ConstraintPositions(t,e),this.PositionLabel(this.label1,e.left,this.cache.label1),this.PositionLabel(this.label2,t.left,this.cache.label2)}},this.PositionLabel=function(e,t,n){var i,o,r,s=this.cache.offsetParent.offset.left+this.cache.offsetParent.border.left;s-t>=0?(e.css("right",""),e.offset({left:t})):(i=s+this.cache.offsetParent.width,o=t+n.margin.left+n.outerWidth+n.margin.right,r=i-o,e.css("left",""),e.css("right",r))},this.ConstraintPositions=function(e,t){(e.center<t.center&&e.outerRight>t.outerLeft||e.center>t.center&&t.outerRight>e.outerLeft)&&(e=this.getLeftPosition(e,t),t=this.getRightPosition(e,t))},this.getLeftPosition=function(e,t){var n=(t.center+e.center)/2,i=n-e.cache.outerWidth-e.cache.margin.right+e.cache.border.left;return e.left=i,e},this.getRightPosition=function(e,t){var n=(t.center+e.center)/2;return t.left=n+t.cache.margin.left+t.cache.border.left,t},this.ShowIfNecessary=function(){"show"===this.options.show||this.moving||!this.initialized||this.updating||(this.label1.stop(!0,!0).fadeIn(this.options.durationIn||0),this.label2.stop(!0,!0).fadeIn(this.options.durationIn||0),
this.moving=!0)},this.HideIfNeeded=function(){this.moving===!0&&(this.label1.stop(!0,!0).delay(this.options.delayOut||0).fadeOut(this.options.durationOut||0),this.label2.stop(!0,!0).delay(this.options.delayOut||0).fadeOut(this.options.durationOut||0),this.moving=!1)},this.onHandleMoving=function(e,t){this.ShowIfNecessary(),this.CacheIfNecessary(),this.UpdateHandlePosition(t),this.PositionLabels()},this.onHandleUpdating=function(){this.updating=!0},this.onHandleUpdated=function(){this.updating=!1,this.cache=null},this.onHandleStop=function(){this.HideIfNeeded()},this.onWindowResize=function(){this.cache=null},this.UpdateHandlePosition=function(e){null!==this.cache&&(e.element[0]===this.handle1[0]?this.UpdatePosition(e,this.cache.handle1):this.UpdatePosition(e,this.cache.handle2))},this.UpdatePosition=function(e,t){t.offset=e.offset,t.value=e.value},this.GetRawPosition=function(e,t){var n=t.offset.left+t.outerWidth/2,i=n-e.outerWidth/2,o=i+e.outerWidth-e.border.left-e.border.right,r=i-e.margin.left-e.border.left,s=t.offset.top-e.outerHeightMargin;return{left:i,outerLeft:r,top:s,right:o,outerRight:r+e.outerWidth+e.margin.left+e.margin.right,cache:e,center:n}},this.Init()}e.widget("ui.rangeSliderLabel",e.ui.rangeSliderMouseTouch,{options:{handle:null,formatter:!1,handleType:"rangeSliderHandle",show:"show",durationIn:0,durationOut:500,delayOut:500,isLeft:!1},cache:null,_positionner:null,_valueContainer:null,_innerElement:null,_value:null,_create:function(){this.options.isLeft=this._handle("option","isLeft"),this.element.addClass("ui-rangeSlider-label").css("position","absolute").css("display","block"),this._createElements(),this._toggleClass(),this.options.handle.bind("moving.label",e.proxy(this._onMoving,this)).bind("update.label",e.proxy(this._onUpdate,this)).bind("switch.label",e.proxy(this._onSwitch,this)),"show"!==this.options.show&&this.element.hide(),this._mouseInit()},destroy:function(){this.options.handle.unbind(".label"),this.options.handle=null,this._valueContainer=null,this._innerElement=null,this.element.empty(),this._positionner&&(this._positionner.Destroy(),this._positionner=null),e.ui.rangeSliderMouseTouch.prototype.destroy.apply(this)},_createElements:function(){this._valueContainer=e("<div class='ui-rangeSlider-label-value' />").appendTo(this.element),this._innerElement=e("<div class='ui-rangeSlider-label-inner' />").appendTo(this.element)},_handle:function(){var e=Array.prototype.slice.apply(arguments);return this.options.handle[this.options.handleType].apply(this.options.handle,e)},_setOption:function(e,t){"show"===e?this._updateShowOption(t):("durationIn"===e||"durationOut"===e||"delayOut"===e)&&this._updateDurations(e,t),this._setFormatterOption(e,t)},_setFormatterOption:function(e,t){"formatter"===e&&("function"==typeof t||t===!1)&&(this.options.formatter=t,this._display(this._value))},_updateShowOption:function(e){this.options.show=e,"show"!==this.options.show?(this.element.hide(),this._positionner.moving=!1):(this.element.show(),this._display(this.options.handle[this.options.handleType]("value")),this._positionner.PositionLabels()),this._positionner.options.show=this.options.show},_updateDurations:function(e,t){parseInt(t,10)===t&&(this._positionner.options[e]=t,this.options[e]=t)},_display:function(e){this.options.formatter===!1?this._displayText(Math.round(e)):this._displayText(this.options.formatter(e)),this._value=e},_displayText:function(e){this._valueContainer.text(e)},_toggleClass:function(){this.element.toggleClass("ui-rangeSlider-leftLabel",this.options.isLeft).toggleClass("ui-rangeSlider-rightLabel",!this.options.isLeft)},_positionLabels:function(){this._positionner.PositionLabels()},_mouseDown:function(e){this.options.handle.trigger(e)},_mouseUp:function(e){this.options.handle.trigger(e)},_mouseMove:function(e){this.options.handle.trigger(e)},_onMoving:function(e,t){this._display(t.value)},_onUpdate:function(){"show"===this.options.show&&this.update()},_onSwitch:function(e,t){this.options.isLeft=t,this._toggleClass(),this._positionLabels()},pair:function(e){null===this._positionner&&(this._positionner=new t(this.element,e,this.widgetName,{show:this.options.show,durationIn:this.options.durationIn,durationOut:this.options.durationOut,delayOut:this.options.delayOut}),e[this.widgetName]("positionner",this._positionner))},positionner:function(e){return"undefined"!=typeof e&&(this._positionner=e),this._positionner},update:function(){this._positionner.cache=null,this._display(this._handle("value")),"show"===this.options.show&&this._positionLabels()}})}(jQuery),function(e){"use strict";e.widget("ui.dateRangeSlider",e.ui.rangeSlider,{options:{bounds:{min:new Date(2010,0,1).valueOf(),max:new Date(2012,0,1).valueOf()},defaultValues:{min:new Date(2010,1,11).valueOf(),max:new Date(2011,1,11).valueOf()}},_create:function(){e.ui.rangeSlider.prototype._create.apply(this),this.element.addClass("ui-dateRangeSlider")},destroy:function(){this.element.removeClass("ui-dateRangeSlider"),e.ui.rangeSlider.prototype.destroy.apply(this)},_setDefaultValues:function(){this._values={min:this.options.defaultValues.min.valueOf(),max:this.options.defaultValues.max.valueOf()}},_setRulerParameters:function(){this.ruler.ruler({min:new Date(this.options.bounds.min),max:new Date(this.options.bounds.max),scales:this.options.scales})},_setOption:function(t,n){("defaultValues"===t||"bounds"===t)&&"undefined"!=typeof n&&null!==n&&this._isValidDate(n.min)&&this._isValidDate(n.max)?e.ui.rangeSlider.prototype._setOption.apply(this,[t,{min:n.min.valueOf(),max:n.max.valueOf()}]):e.ui.rangeSlider.prototype._setOption.apply(this,this._toArray(arguments))},_handleType:function(){return"dateRangeSliderHandle"},option:function(t){if("bounds"===t||"defaultValues"===t){var n=e.ui.rangeSlider.prototype.option.apply(this,arguments);return{min:new Date(n.min),max:new Date(n.max)}}return e.ui.rangeSlider.prototype.option.apply(this,this._toArray(arguments))},_defaultFormatter:function(e){var t=e.getMonth()+1,n=e.getDate();return""+e.getFullYear()+"-"+(10>t?"0"+t:t)+"-"+(10>n?"0"+n:n)},_getFormatter:function(){var e=this.options.formatter;return(this.options.formatter===!1||null===this.options.formatter)&&(e=this._defaultFormatter),function(e){return function(t){return e(new Date(t))}}(e)},values:function(t,n){var i=null;return i=this._isValidDate(t)&&this._isValidDate(n)?e.ui.rangeSlider.prototype.values.apply(this,[t.valueOf(),n.valueOf()]):e.ui.rangeSlider.prototype.values.apply(this,this._toArray(arguments)),{min:new Date(i.min),max:new Date(i.max)}},min:function(t){return this._isValidDate(t)?new Date(e.ui.rangeSlider.prototype.min.apply(this,[t.valueOf()])):new Date(e.ui.rangeSlider.prototype.min.apply(this))},max:function(t){return this._isValidDate(t)?new Date(e.ui.rangeSlider.prototype.max.apply(this,[t.valueOf()])):new Date(e.ui.rangeSlider.prototype.max.apply(this))},bounds:function(t,n){var i;return i=this._isValidDate(t)&&this._isValidDate(n)?e.ui.rangeSlider.prototype.bounds.apply(this,[t.valueOf(),n.valueOf()]):e.ui.rangeSlider.prototype.bounds.apply(this,this._toArray(arguments)),{min:new Date(i.min),max:new Date(i.max)}},_isValidDate:function(e){return"undefined"!=typeof e&&e instanceof Date},_toArray:function(e){return Array.prototype.slice.call(e)}})}(jQuery),function(e){"use strict";e.widget("ui.dateRangeSliderHandle",e.ui.rangeSliderHandle,{_steps:!1,_boundsValues:{},_create:function(){this._createBoundsValues(),e.ui.rangeSliderHandle.prototype._create.apply(this)},_getValueForPosition:function(e){var t=this._getRawValueForPositionAndBounds(e,this.options.bounds.min.valueOf(),this.options.bounds.max.valueOf());return this._constraintValue(new Date(t))},_setOption:function(t,n){return"step"===t?(this.options.step=n,this._createSteps(),void this.update()):(e.ui.rangeSliderHandle.prototype._setOption.apply(this,[t,n]),void("bounds"===t&&this._createBoundsValues()))},_createBoundsValues:function(){this._boundsValues={min:this.options.bounds.min.valueOf(),max:this.options.bounds.max.valueOf()}},_bounds:function(){return this._boundsValues},_createSteps:function(){if(this.options.step===!1||!this._isValidStep())return void(this._steps=!1);var e=new Date(this.options.bounds.min),t=new Date(this.options.bounds.max),n=e,i=0,o=new Date;for(this._steps=[];t>=n&&(1===i||o.valueOf()!==n.valueOf());)o=n,this._steps.push(n.valueOf()),n=this._addStep(e,i,this.options.step),i++;o.valueOf()===n.valueOf()&&(this._steps=!1)},_isValidStep:function(){return"object"==typeof this.options.step},_addStep:function(e,t,n){var i=new Date(e.valueOf());return i=this._addThing(i,"FullYear",t,n.years),i=this._addThing(i,"Month",t,n.months),i=this._addThing(i,"Date",t,7*n.weeks),i=this._addThing(i,"Date",t,n.days),i=this._addThing(i,"Hours",t,n.hours),i=this._addThing(i,"Minutes",t,n.minutes),i=this._addThing(i,"Seconds",t,n.seconds)},_addThing:function(e,t,n,i){return 0===n||0===(i||0)?e:(e["set"+t](e["get"+t]()+n*(i||0)),e)},_round:function(e){if(this._steps===!1)return e;for(var t,n,i=this.options.bounds.max.valueOf(),o=this.options.bounds.min.valueOf(),r=Math.max(0,(e-o)/(i-o)),s=Math.floor(this._steps.length*r);this._steps[s]>e;)s--;for(;s+1<this._steps.length&&this._steps[s+1]<=e;)s++;return s>=this._steps.length-1?this._steps[this._steps.length-1]:0===s?this._steps[0]:(t=this._steps[s],n=this._steps[s+1],n-e>e-t?t:n)},update:function(){this._createBoundsValues(),this._createSteps(),e.ui.rangeSliderHandle.prototype.update.apply(this)},add:function(e,t){return this._addStep(new Date(e),1,t).valueOf()},substract:function(e,t){return this._addStep(new Date(e),-1,t).valueOf()},stepsBetween:function(e,t){if(this.options.step===!1)return t-e;var n=Math.min(e,t),i=Math.max(e,t),o=0,r=!1,s=e>t;for(this.add(n,this.options.step)-n<0&&(r=!0);i>n;)r?i=this.add(i,this.options.step):n=this.add(n,this.options.step),o++;return s?-o:o},multiplyStep:function(e,t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]*t);return n},stepRatio:function(){if(this.options.step===!1)return 1;var e=this._steps.length;return this.cache.parent.width/e}})}(jQuery),function(e){"use strict";var t={first:function(e){return e},next:function(e){return e+1},format:function(){},label:function(e){return Math.round(e)},stop:function(){return!1}};e.widget("ui.ruler",{options:{min:0,max:100,scales:[]},_create:function(){this.element.addClass("ui-ruler"),this._createScales()},destroy:function(){this.element.removeClass("ui-ruler"),this.element.empty()},_regenerate:function(){this.element.empty(),this._createScales()},_setOption:function(e,t){return"min"===e||"max"===e&&t!==this.options[e]?(this.options[e]=t,void this._regenerate()):"scales"===e&&t instanceof Array?(this.options.scales=t,void this._regenerate()):void 0},_createScales:function(){if(this.options.max!==this.options.min)for(var e=0;e<this.options.scales.length;e++)this._createScale(this.options.scales[e],e)},_createScale:function(n,i){var o=e.extend({},t,n),r=e("<div class='ui-ruler-scale' />").appendTo(this.element);r.addClass("ui-ruler-scale"+i),this._createTicks(r,o)},_createTicks:function(e,t){var n,i,o,r=t.first(this.options.min,this.options.max),s=this.options.max-this.options.min,a=!0;do n=r,r=t.next(n),i=(Math.min(r,this.options.max)-Math.max(n,this.options.min))/s,o=this._createTick(n,r,t),e.append(o),o.css("width",100*i+"%"),a&&n>this.options.min&&o.css("margin-left",100*(n-this.options.min)/s+"%"),a=!1;while(!this._stop(t,r))},_stop:function(e,t){return e.stop(t)||t>=this.options.max},_createTick:function(t,n,i){var o=e("<div class='ui-ruler-tick' style='display:inline-block' />"),r=e("<div class='ui-ruler-tick-inner' />").appendTo(o),s=e("<span class='ui-ruler-tick-label' />").appendTo(r);return s.text(i.label(t,n)),i.format(o,t,n),o}})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e.lang("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e.lang("fr-FR",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}})}),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e.lang("ja-JP",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日LT",LLLL:"YYYY年M月D日LT dddd"},meridiem:function(e,t,n){return 12>e?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e.lang("ko-KR",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 mm분",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 LT",LLLL:"YYYY년 MMMM D일 dddd LT"},meridiem:function(e,t,n){return 12>e?"오전":"오후"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇초",ss:"%d초",m:"일분",mm:"%d분",h:"한시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한달",MM:"%d달",y:"일년",yy:"%d년"},ordinal:"%d일",meridiemParse:/(오전|오후)/,isPM:function(e){return"오후"===e}})}),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e.lang("pt-PT",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:4}})}),function(e){"function"==typeof define&&define.amd?define(["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e.lang("zh-CN",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(e,t,n){var i=100*e+t;return 600>i?"凌晨":900>i?"早上":1130>i?"上午":1230>i?"中午":1800>i?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()-t.unix()>=604800?"[下]":"[本]",0===this.minutes()?n+"dddAh点整":n+"dddAh点mm"},lastWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()<t.unix()?"[上]":"[本]",0===this.minutes()?n+"dddAh点整":n+"dddAh点mm"},sameElse:"LL"},ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})}),function(){function e(e){if("number"!=typeof e.length||0===e.length)return[];var t=[];for(var n in e[0])t.push({name:n,slug:n});return t}ko.easyGrid={viewModel:function(t){var n=this;this.data=t.data,this.currentPageIndex=ko.observable(0),this.pageSize=t.pageSize||5,this.pageRange=t.pageRange||5,this.sortOptions=ko.observable({slug:"",direction:""});var i=Math.floor(this.pageRange/2);this.maxPageIndex=ko.computed(function(){return Math.ceil(ko.unwrap(this.data).length/this.pageSize)-1},this),this.pageLeftMore=ko.computed(function(){return n.maxPageIndex()<n.pageRange?!1:n.currentPageIndex()-i>0}),this.pageRightMore=ko.computed(function(){return n.currentPageIndex()+i<n.maxPageIndex()&&n.maxPageIndex()>n.pageRange}),this.sortClass=function(e){var t=this.sortOptions();return t.slug===e.slug?t.direction:""},this.columns=t.columns||e(ko.unwrap(this.data)),this.detailColumns=t.detailColumns||[],this.itemsOnCurrentPage=ko.computed(function(){var e=this.pageSize*this.currentPageIndex();return ko.unwrap(this.data).slice(e,e+this.pageSize)},this),this.visiblePageIndexes=ko.computed(function(){var e=[],t=n.currentPageIndex()-i;0>t&&(t=0);for(var o=t+n.pageRange-1;o>n.maxPageIndex();)o--,t>0&&t--;for(var r=t;o>=r;r++)e.push(r);return e}),this.lastVisiblePageIndex=ko.computed(function(){return void 0===n.visiblePageIndexes()||0===n.visiblePageIndexes().length?0:_.last(n.visiblePageIndexes())});var o=-1;this.sortBy=function(e){o=-o,n.sortOptions({slug:e.slug,direction:1===o?"sortAscending":"sortDescending"}),t.data.sort(function(t,n){return t[e.slug]===n[e.slug]?0:t[e.slug]<n[e.slug]?-1*o:1*o})},this.displayItemOnMap=t.displayItemOnMap}},ko.bindingHandlers.easyGrid={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t,n){for(var i=t(),o=new ko.nativeTemplateEngine;e.firstChild;)ko.removeNode(e.firstChild);var r=n.get("easyGridTemplate")||"ko_easyGrid_grid",s=n.get("easyGridPagerTemplate")||"ko_easyGrid_pageLinks",a=e.appendChild(document.createElement("DIV"));ko.renderTemplate(r,i,{templateEngine:o},a,"replaceNode");var u=e.appendChild(document.createElement("DIV"));ko.renderTemplate(s,i,{templateEngine:o},u,"replaceNode")}}}(),function(){ko.easyGrid2={viewModel:function(e){var t=this;this.columns=e.columns,this.currentPageIndex=ko.observable(0),this.pageSize=e.pageSize||5,this.pageRange=e.pageRange||5,this.sortOptions=ko.observable({slug:"",direction:""}),this.dataCache={},this.dataCount=ko.observable(0),this.itemsOnCurrentPage=ko.observableArray(),this.detailColumns=e.detailColumns||[],this.onRowLoaded=e.onRowLoaded||void 0,this.pluckRowData=e.pluckRowData||void 0,this.clearData=function(){t.dataCount(0),t.dataCache={},t.itemsOnCurrentPage.removeAll(),t.setCurrentPageIndex(0),t.sortOptions({slug:"",direction:"",clearingData:!0})},this.setCurrentPageIndex=function(e){t.currentPageIndex(e),t.latestPageIndex=e};var n=Math.floor(this.pageRange/2);this.maxPageIndex=ko.observable(0),this.pageLeftMore=ko.computed(function(){return t.maxPageIndex()<t.pageRange?!1:t.currentPageIndex()-n>0}),this.pageRightMore=ko.computed(function(){return t.currentPageIndex()+n<t.maxPageIndex()&&t.maxPageIndex()>t.pageRange}),this.sortClass=function(e){var t=this.sortOptions(),n=void 0!=e.sortSlug?e.sortSlug:e.slug;return t.slug===n?t.direction:""},this.visiblePageIndexes=ko.computed(function(){var e=[],i=t.currentPageIndex()-n;0>i&&(i=0);for(var o=i+t.pageRange-1;o>t.maxPageIndex();)o--,i>0&&i--;for(var r=i;o>=r;r++)e.push(r);return e}),this.lastVisiblePageIndex=ko.computed(function(){return void 0===t.visiblePageIndexes()||0===t.visiblePageIndexes().length?0:_.last(t.visiblePageIndexes())});var i=-1;this.sortBy=function(e){t.setCurrentPageIndex(0),i=-i,t.sortOptions({slug:void 0!==e.sortSlug?e.sortSlug:e.slug,direction:1===i?"sortAscending":"sortDescending"})},this.displayItemOnMap=e.displayItemOnMap}},ko.bindingHandlers.easyGrid2={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t,n){for(var i=t(),o=new ko.nativeTemplateEngine;e.firstChild;)ko.removeNode(e.firstChild);var r=n.get("easyGridTemplate")||"ko_easyGrid_grid",s=n.get("easyGridPagerTemplate")||"ko_easyGrid_pageLinks",a=e.appendChild(document.createElement("DIV"));ko.renderTemplate(r,i,{templateEngine:o},a,"replaceNode");var u=e.appendChild(document.createElement("DIV"));ko.renderTemplate(s,i,{templateEngine:o},u,"replaceNode")}}}(),ko.observableArray.fn.indexBy=function(e){return this.index=ko.computed(function(){var t=this()||[],n={};return ko.utils.arrayForEach(t,function(t){e?n[t[e]]=t:n[t]=t}),n},this),this},ko.observableArray.fn.findByKey=function(e){return this.index()[e]},!function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Spinner=t()}(this,function(){"use strict";function e(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,i){var o=["opacity",t,~~(100*e),n,i].join("-"),r=.01+n/i*100,s=Math.max(1-(1-e)/t*(100-r),e),a=l.substring(0,l.indexOf("Animation")).toLowerCase(),u=a&&"-"+a+"-"||"";return h[o]||(d.insertRule("@"+u+"keyframes "+o+"{0%{opacity:"+s+"}"+r+"%{opacity:"+e+"}"+(r+.01)+"%{opacity:1}"+(r+t)%100+"%{opacity:"+e+"}100%{opacity:"+s+"}}",d.cssRules.length),h[o]=1),o}function i(e,t){var n,i,o=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<c.length;i++)if(n=c[i]+t,void 0!==o[n])return n;return void 0!==o[t]?t:void 0}function o(e,t){for(var n in t)e.style[i(e,n)||n]=t[n];return e}function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e}function s(e,t){return"string"==typeof e?e:e[t%e.length]}function a(e){this.opts=r(e||{},a.defaults,f)}function u(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}d.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(e,i){function r(){return o(n("group",{coordsize:c+" "+c,coordorigin:-l+" "+-l}),{width:c,height:c})}function a(e,a,u){t(d,t(o(r(),{rotation:360/i.lines*e+"deg",left:~~a}),t(o(n("roundrect",{arcsize:i.corners}),{width:l,height:i.width,left:i.radius,top:-i.width>>1,filter:u}),n("fill",{color:s(i.color,e),opacity:i.opacity}),n("stroke",{opacity:0}))))}var u,l=i.length+i.width,c=2*l,h=2*-(i.width+i.length)+"px",d=o(r(),{position:"absolute",top:h,left:h});if(i.shadow)for(u=1;u<=i.lines;u++)a(u,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(u=1;u<=i.lines;u++)a(u);return t(e,d)},a.prototype.opacity=function(e,t,n,i){var o=e.firstChild;i=i.shadow&&i.lines||0,o&&t+i<o.childNodes.length&&(o=o.childNodes[t+i],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=n))}}var l,c=["webkit","Moz","ms","O"],h={},d=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),f={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};a.defaults={},r(a.prototype,{spin:function(t){this.stop();var n=this,i=n.opts,r=n.el=o(e(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex});if(i.radius+i.length+i.width,o(r,{left:i.left,top:i.top}),t&&t.insertBefore(r,t.firstChild||null),r.setAttribute("role","progressbar"),n.lines(r,n.opts),!l){var s,a=0,u=(i.lines-1)*(1-i.direction)/2,c=i.fps,h=c/i.speed,d=(1-i.opacity)/(h*i.trail/100),f=h/i.lines;!function p(){a++;for(var e=0;e<i.lines;e++)s=Math.max(1-(a+(i.lines-e)*f)%h*d,i.opacity),n.opacity(r,e*i.direction+u,s,i);n.timeout=n.el&&setTimeout(p,~~(1e3/c))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(i,r){function a(t,n){return o(e(),{position:"absolute",width:r.length+r.width+"px",height:r.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*c+r.rotate)+"deg) translate("+r.radius+"px,0)",borderRadius:(r.corners*r.width>>1)+"px"})}for(var u,c=0,h=(r.lines-1)*(1-r.direction)/2;c<r.lines;c++)u=o(e(),{position:"absolute",top:1+~(r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:l&&n(r.opacity,r.trail,h+c*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&t(u,o(a("#000","0 0 4px #000"),{top:"2px"})),t(i,t(u,a(s(r.color,c),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var p=o(e("group"),{behavior:"url(#default#VML)"});return!i(p,"transform")&&p.adj?u():l=i(p,"animation"),a});var LZMA=function(){function e(e,t){postMessage({action:Mo,callback_num:t,result:e})}function t(){return er}function n(){}function i(){return tr}function o(){}function r(){return nr}function s(){}function a(e,t){return e.detailMessage=t,e}function u(){return ir}function l(){}function c(e,t){return e}function h(){return or}function d(){}function f(e,t){e[e.explicitLength++]=t}function p(e,t){e[e.explicitLength++]=t}function _(e){var t,n;return n=e.join(""),e.length=e.explicitLength=0,t=n,e[e.explicitLength++]=t,t}function m(e,t){var n=new Array(t);if(e>0)for(var i=[null,0,!1,[0,0]][e],o=0;t>o;++o)n[o]=i;return n}function g(){return this.arrayClass$}function v(e,t,n,i,o){var r;return r=m(o,i),x(),L(r,No,$o),r.arrayClass$=e,r.typeId$=t,r.queryId$=n,r}function b(e,t,n,i){return x(),L(i,No,$o),i.arrayClass$=e,i.typeId$=t,i.queryId$=n,i}function y(e,t,n){if(null!=n){if(e.queryId$>0&&!D(n.typeId$,e.queryId$))throw new Me;if(e.queryId$<0&&(n.typeMarker$==wo||2==n.typeId$))throw new Me}return e[t]=n}function w(){}function x(){x=wo,No=[],$o=[],S(new w,No,$o)}function S(e,t,n){var i,o=0;for(var r in e)(i=e[r])&&(t[o]=r,n[o]=i,++o)}function L(e,t,n){x();for(var i=0,o=t.length;o>i;++i)e[t[i]]=n[i]}function P(e,t){return e&&!!Jo[e][t]}function D(e,t){return e&&Jo[e][t]}function M(e,t){if(null!=e&&!D(e.typeId$,t))throw new Ie;return e}function C(e,t){return null!=e&&P(e.typeId$,t)}function k(e){return~~Math.max(Math.min(e,2147483647),-2147483648)}function B(e){return null!=e&&P(e.typeId$,2)?e:c(new d,e)}function T(e,t){var n,i;return n=e[1]+t[1],i=e[0]+t[0],O(i,n)}function E(e,t,n){return 0==t?e:0==n?e:T(e,O(t*n,0))}function R(e,t){return Y(~~Math.max(Math.min(e[1]/4294967296,2147483647),-2147483648)&~~Math.max(Math.min(t[1]/4294967296,2147483647),-2147483648),F(e)&F(t))}function I(e,t){var n,i;return e[0]==t[0]&&e[1]==t[1]?0:(n=e[1]<0,i=t[1]<0,n&&!i?-1:!n&&i?1:J(e,t)[1]<0?-1:1)}function O(e,t){var n,i;for(t%=0x10000000000000000,e%=0x10000000000000000,n=t%4294967296,i=4294967296*Math.floor(e/4294967296),t=t-n+i,e=e-i+n;0>e;)e+=4294967296,t-=4294967296;for(;e>4294967295;)e-=4294967296,t+=4294967296;for(t%=0x10000000000000000;t>0x7fffffff00000000;)t-=0x10000000000000000;for(;-0x8000000000000000>t;)t+=0x10000000000000000;return[e,t]}function H(e,t){var n,i,o,r,s,a;if(0==t[0]&&0==t[1])throw xe(new Le,"/ by zero");if(0==e[0]&&0==e[1])return te(),Uo;if(z(e,(te(),Vo)))return z(t,Zo)||z(t,Wo)?Vo:(r=q(e,1),n=G(H(r,t),1),s=J(e,j(t,n)),T(n,H(s,t)));if(z(t,Vo))return Uo;if(e[1]<0)return t[1]<0?H(W(e),W(t)):W(H(W(e),t));if(t[1]<0)return W(H(e,W(t)));for(a=Uo,s=e;I(s,t)>=0;)o=A(Math.floor(Q(s)/X(t))),0==o[0]&&0==o[1]&&(o=Zo),i=j(o,t),a=T(a,o),s=J(s,i);return a}function z(e,t){return e[0]==t[0]&&e[1]==t[1]}function A(e){return isNaN(e)?(te(),Uo):-0x8000000000000000>e?(te(),Vo):e>=0x8000000000000000?(te(),jo):e>0?O(Math.floor(e),0):O(Math.ceil(e),0)}function N(e){var t,n;return e>-129&&128>e?(t=e+128,n=(ee(),Fo)[t],null==n&&(n=Fo[t]=$(e)),n):$(e)}function $(e){return e>=0?[e,0]:[e+4294967296,-4294967296]}function F(e){return e[0]>=2147483648?~~Math.max(Math.min(e[0]-4294967296,2147483647),-2147483648):~~Math.max(Math.min(e[0],2147483647),-2147483648)}function Y(e,t){var n,i;return n=4294967296*e,i=t,0>t&&(i+=4294967296),[i,n]}function j(e,t){var n,i,o,r,s,a,u,l,c;return 0==e[0]&&0==e[1]?(te(),Uo):0==t[0]&&0==t[1]?(te(),Uo):z(e,(te(),Vo))?V(t):z(t,Vo)?V(e):e[1]<0?t[1]<0?j(W(e),W(t)):W(j(W(e),t)):t[1]<0?W(j(e,W(t))):I(e,qo)<0&&I(t,qo)<0?O((e[1]+e[0])*(t[1]+t[0]),0):(o=e[1]%281474976710656,r=e[1]-o,n=e[0]%65536,i=e[0]-n,u=t[1]%281474976710656,l=t[1]-u,s=t[0]%65536,a=t[0]-s,c=Uo,c=E(c,r,s),c=E(c,o,a),c=E(c,o,s),c=E(c,i,u),c=E(c,i,a),c=E(c,i,s),c=E(c,n,l),c=E(c,n,u),c=E(c,n,a),c=E(c,n,s))}function V(e){return 1==(1&F(e))?(te(),Vo):(te(),Uo)}function W(e){var t,n;return z(e,(te(),Vo))?Vo:(t=-e[1],n=-e[0],n>4294967295&&(n-=4294967296,t+=4294967296),0>n&&(n+=4294967296,t-=4294967296),[n,t])}function Z(e){return 30>=e?1<<e:Z(30)*Z(e-30)}function G(e,t){var n,i,o,r;return t&=63,z(e,(te(),Vo))?0==t?e:Uo:e[1]<0?W(G(W(e),t)):(r=Z(t),i=e[1]*r%0x10000000000000000,o=e[0]*r,n=o-o%4294967296,i+=n,o-=n,i>=0x8000000000000000&&(i-=0x10000000000000000),[o,i])}function q(e,t){var n,i,o;return t&=63,o=Z(t),n=e[1]/o,i=Math.floor(e[0]/o),O(i,n)}function U(e,t){var n;return t&=63,n=q(e,t),e[1]<0&&(n=T(n,G((te(),Go),63-t))),n}function J(e,t){var n,i;return n=e[1]-t[1],i=e[0]-t[0],O(i,n)}function Q(e){var t,n,i;return n=k(Math.log(e[1])/(te(),Yo)),48>=n?e[1]+e[0]:(t=n-48,i=(1<<t)-1,e[1]+(e[0]-i))}function X(e){var t,n,i;return n=k(Math.log(e[1])/(te(),
Yo)),48>=n?e[1]+e[0]:(t=n-48,i=(1<<t)-1,e[1]+(e[0]+i))}function K(e){var t,n,i,o,r,s;if(0==e[0]&&0==e[1])return"0";if(z(e,(te(),Vo)))return"-9223372036854775808";if(e[1]<0)return"-"+K(W(e));for(n=e,o="";0!=n[0]||0!=n[1];){if(r=N(1e9),i=H(n,r),t=""+F(J(n,j(i,r))),n=i,0!=n[0]||0!=n[1])for(s=9-t.length;s>0;--s)t="0"+t;o=t+o}return o}function ee(){ee=wo,Fo=v(sr,0,9,256,0)}function te(){te=wo,Yo=Math.log(2),jo=Ao,Vo=Co,Wo=N(-1),Zo=N(1),Go=N(2),qo=Oo,Uo=N(0)}function ne(){return ar}function ie(){}function oe(e,t){return re(e,t,0,t.length),e}function re(e,t,n,i){return e.buf=t,e.pos=n,e.count=n+i,e.count>t.length&&(e.count=t.length),e}function se(e){return e.pos>=e.count?-1:255&e.buf[e.pos++]}function ae(e,t,n,i){return e.pos>=e.count?-1:(i=We(i,e.count-e.pos),et(e.buf,e.pos,t,n,i),e.pos+=i,i)}function ue(){return ur}function le(){}function ce(){return cr}function he(){}function de(e){return e.buf=v(lr,0,-1,32,1),e}function fe(e,t){var n;t<=e.buf.length||(t=Ve(t,2*e.buf.length),n=v(lr,0,-1,t,1),et(e.buf,0,n,0,e.buf.length),e.buf=n)}function pe(e){var t;return t=v(lr,0,-1,e.count,1),et(e.buf,0,t,0,e.count),t}function _e(e,t){fe(e,e.count+1),e.buf[e.count++]=t<<24>>24}function me(e,t,n,i){fe(e,e.count+i),et(t,n,e.buf,e.count,i),e.count+=i}function ge(){return hr}function ve(){}function be(e,t){return e.detailMessage=t,e}function ye(){return dr}function we(){}function xe(e,t){return e.detailMessage=t,e}function Se(){return pr}function Le(){}function Pe(e,t){return e.detailMessage=t,e}function De(){return _r}function Me(){}function Ce(e,t){var n;return n=new Ee,n.typeName=e+t,n}function ke(e,t){var n;return n=new Ee,n.typeName=e+t,n}function Be(e,t){var n;return n=new Ee,n.typeName=e+t,n}function Te(){return gr}function Ee(){}function Re(){return vr}function Ie(){}function Oe(){return fr}function He(){}function ze(e,t){return e.detailMessage=t,e}function Ae(){return br}function Ne(){}function $e(){return yr}function Fe(){}function Ye(){return wr}function je(){}function Ve(e,t){return e>t?e:t}function We(e,t){return t>e?e:t}function Ze(){return Sr}function Ge(){}function qe(e,t){return null==t?!1:String(e)==t}function Ue(e,t,n,i,o){var r;for(r=t;n>r;++r)i[o++]=e.charCodeAt(r)}function Je(){return Lr}function Qe(e){var t;return e.data=(t=[],t.explicitLength=0,t),e}function Xe(){return Pr}function Ke(){}function et(e,t,n,i,o){var r,s,a,u,l,c,h,d;if(null==e||null==n)throw new Ge;if(h=(e.typeMarker$==wo||2==e.typeId$?e.getClass$():rr).typeName,a=(n.typeMarker$==wo||2==n.typeId$?n.getClass$():rr).typeName,91!=h.charCodeAt(0)||91!=a.charCodeAt(0))throw Pe(new Me,"Must be array types");if(h.charCodeAt(1)!=a.charCodeAt(1))throw Pe(new Me,"Array types must match");if(d=e.length,u=n.length,0>t||0>i||0>o||t+o>d||i+o>u)throw new je;if(76!=h.charCodeAt(1)&&91!=h.charCodeAt(1)||qe(h,a))for(l=0;o>l;++l)n[i+l]=e[t+l];else if(c=M(e,3),r=M(n,3),(null==e?null:e)===(null==n?null:n)&&i>t)for(t+=o,s=i+o;s-->i;)y(r,s,c[--t]);else for(s=i+o;s>i;)y(r,i++,c[t++])}function tt(e,t){if(!qn(t,1<<e.dictionarySize))throw a(new l,"unexpected failure");if(!Qn(t,e.fb))throw a(new l,"unexpected failure");if(!Jn(t,e.matchFinder))throw a(new l,"unexpected failure");if(!Un(t,e.lc,e.lp,e.pb))throw a(new l,"unexpected failure")}function nt(){return Xr}function it(){}function ot(e){var t;try{return Xt(e.chunker)}catch(t){if(t=B(t),C(t,10))return!1;throw t}}function rt(e,t,n,i,o){var r,s;if(!o)throw ze(new Ne,"null mode");if(I(i,ko)<0)throw ze(new Ne,"invalid length "+K(i));for(e.length_0=i,r=On(new ii),tt(o,r),r._writeEndMark=!0,Xn(r,n),s=0;64>s;s+=8)_e(n,255&F(q(i,s)));e.chunker=(r._needReleaseMFStream=!1,r._inStream=t,r._finished=!1,In(r),r._rangeEncoder.Stream=n,jn(r),zn(r),Hn(r),r._lenEncoder._tableSize=r._numFastBytes+1-2,fi(r._lenEncoder,1<<r._posStateBits),r._repMatchLenEncoder._tableSize=r._numFastBytes+1-2,fi(r._repMatchLenEncoder,1<<r._posStateBits),void(r.nowPos64=Bo),Jt(new nn,r))}function st(){return Kr}function at(){}function ut(e,t,n){var i;e.output=de(new ve);try{rt(e,oe(new le,t),e.output,N(t.length),n)}catch(i){throw i=B(i),C(i,10)?a(new l,"impossible exception"):i}return e}function lt(){return es}function ct(){}function ht(e){var t,n;try{return Xt(e.chunker)}catch(t){if(t=B(t),C(t,10))return n=t,e.exception=n,!1;throw t}}function dt(e,t,n){var i,o,r,s,a,u="";for(r=v(lr,0,-1,5,1),o=0;o<r.length;++o){if(s=se(t),-1==s)throw be(new we,"truncated input");r[o]=s<<24>>24}if(i=an(new fn),!ln(i,r))throw be(new we,"corrupted input");for(o=0;64>o;o+=8){if(s=se(t),-1==s)throw be(new we,"truncated input");s=s.toString(16),1==s.length&&(s="0"+s),u=s+""+u}/^0+$|^f+$/i.test(u)?e.length_0=ko:(a=parseInt(u,16),a>4294967295?e.length_0=ko:e.length_0=A(a)),e.chunker=rn(i,t,n,e.length_0)}function ft(){return ts}function pt(){}function _t(e,t){return e.output=de(new ve),dt(e,oe(new le,t),e.output),e}function mt(){return ns}function gt(){}function vt(e,t,n,i){var o;e._keepSizeBefore=t,e._keepSizeAfter=n,o=t+n+i,(null==e._bufferBase||e._blockSize!=o)&&(e._bufferBase=null,e._blockSize=o,e._bufferBase=v(lr,0,-1,e._blockSize,1)),e._pointerToLastSafePosition=e._blockSize-n}function bt(e,t){return e._bufferBase[e._bufferOffset+e._pos+t]}function yt(e,t,n,i){var o,r;for(e._streamEndWasReached&&e._pos+t+i>e._streamPos&&(i=e._streamPos-(e._pos+t)),++n,r=e._bufferOffset+e._pos+t,o=0;i>o&&e._bufferBase[r+o]==e._bufferBase[r+o-n];++o);return o}function wt(e){return e._streamPos-e._pos}function xt(e){var t,n,i;for(i=e._bufferOffset+e._pos-e._keepSizeBefore,i>0&&--i,n=e._bufferOffset+e._streamPos-i,t=0;n>t;++t)e._bufferBase[t]=e._bufferBase[i+t];e._bufferOffset-=i}function St(e){var t;++e._pos,e._pos>e._posLimit&&(t=e._bufferOffset+e._pos,t>e._pointerToLastSafePosition&&xt(e),Lt(e))}function Lt(e){var t,n,i;if(!e._streamEndWasReached)for(;;){if(i=-e._bufferOffset+e._blockSize-e._streamPos,0==i)return;if(t=ae(e._stream,e._bufferBase,e._bufferOffset+e._streamPos,i),-1==t)return e._posLimit=e._streamPos,n=e._bufferOffset+e._posLimit,n>e._pointerToLastSafePosition&&(e._posLimit=e._pointerToLastSafePosition-e._bufferOffset),void(e._streamEndWasReached=!0);e._streamPos+=t,e._streamPos>=e._pos+e._keepSizeAfter&&(e._posLimit=e._streamPos-e._keepSizeAfter)}}function Pt(e,t){e._bufferOffset+=t,e._posLimit-=t,e._pos-=t,e._streamPos-=t}function Dt(){return Dr}function Mt(){}function Ct(){Ct=wo;var e,t,n;for(Qo=v(xr,0,-1,256,1),e=0;256>e;++e){for(n=e,t=0;8>t;++t)0!=(1&n)?n=n>>>1^-306674912:n>>>=1;Qo[e]=n}}function kt(e,t,n,i,o){var r,s,a;return t>1073741567?!1:(e._cutValue=16+(i>>1),a=~~((t+n+i+o)/2)+256,vt(e,t+n,i+o,a),e._matchMaxLen=i,r=t+1,e._cyclicBufferSize!=r&&(e._son=v(xr,0,-1,2*(e._cyclicBufferSize=r),1)),s=65536,e.HASH_ARRAY&&(s=t-1,s|=s>>1,s|=s>>2,s|=s>>4,s|=s>>8,s>>=1,s|=65535,s>16777216&&(s>>=1),e._hashMask=s,++s,s+=e.kFixHashSize),s!=e._hashSizeSum&&(e._hash=v(xr,0,-1,e._hashSizeSum=s,1)),!0)}function Bt(e,t){var n,i,o,r,s,a,u,l,c,h,d,f,p,_,m,g,v,b,y,w,x;if(e._pos+e._matchMaxLen<=e._streamPos)_=e._matchMaxLen;else if(_=e._streamPos-e._pos,_<e.kMinMatchCheck)return Et(e),0;for(v=0,m=e._pos>e._cyclicBufferSize?e._pos-e._cyclicBufferSize:0,i=e._bufferOffset+e._pos,g=1,l=0,c=0,e.HASH_ARRAY?(x=Qo[255&e._bufferBase[i]]^255&e._bufferBase[i+1],l=1023&x,x^=(255&e._bufferBase[i+2])<<8,c=65535&x,h=(x^Qo[255&e._bufferBase[i+3]]<<5)&e._hashMask):h=255&e._bufferBase[i]^(255&e._bufferBase[i+1])<<8,o=e._hash[e.kFixHashSize+h],e.HASH_ARRAY&&(r=e._hash[l],s=e._hash[1024+c],e._hash[l]=e._pos,e._hash[1024+c]=e._pos,r>m&&e._bufferBase[e._bufferOffset+r]==e._bufferBase[i]&&(t[v++]=g=2,t[v++]=e._pos-r-1),s>m&&e._bufferBase[e._bufferOffset+s]==e._bufferBase[i]&&(s==r&&(v-=2),t[v++]=g=3,t[v++]=e._pos-s-1,r=s),0!=v&&r==o&&(v-=2,g=1)),e._hash[e.kFixHashSize+h]=e._pos,y=(e._cyclicBufferPos<<1)+1,w=e._cyclicBufferPos<<1,f=p=e.kNumHashDirectBytes,0!=e.kNumHashDirectBytes&&o>m&&e._bufferBase[e._bufferOffset+o+e.kNumHashDirectBytes]!=e._bufferBase[i+e.kNumHashDirectBytes]&&(t[v++]=g=e.kNumHashDirectBytes,t[v++]=e._pos-o-1),n=e._cutValue;;){if(m>=o||0==n--){e._son[y]=e._son[w]=0;break}if(u=e._pos-o,a=(u<=e._cyclicBufferPos?e._cyclicBufferPos-u:e._cyclicBufferPos-u+e._cyclicBufferSize)<<1,b=e._bufferOffset+o,d=p>f?f:p,e._bufferBase[b+d]==e._bufferBase[i+d]){for(;++d!=_&&e._bufferBase[b+d]==e._bufferBase[i+d];);if(d>g&&(t[v++]=g=d,t[v++]=u-1,d==_)){e._son[w]=e._son[a],e._son[y]=e._son[a+1];break}}(255&e._bufferBase[b+d])<(255&e._bufferBase[i+d])?(e._son[w]=o,w=a+1,o=e._son[w],p=d):(e._son[y]=o,y=a,o=e._son[y],f=d)}return Et(e),v}function Tt(e){var t;for(e._bufferOffset=0,e._pos=0,e._streamPos=0,e._streamEndWasReached=!1,Lt(e),t=0;t<e._hashSizeSum;++t)e._hash[t]=0;e._cyclicBufferPos=0,Pt(e,-1)}function Et(e){var t;++e._cyclicBufferPos>=e._cyclicBufferSize&&(e._cyclicBufferPos=0),St(e),1073741823==e._pos&&(t=e._pos-e._cyclicBufferSize,Rt(e._son,2*e._cyclicBufferSize,t),Rt(e._hash,e._hashSizeSum,t),Pt(e,t))}function Rt(e,t,n){var i,o;for(i=0;t>i;++i)o=e[i],n>=o?o=0:o-=n,e[i]=o}function It(e,t){e.HASH_ARRAY=t>2,e.HASH_ARRAY?(e.kNumHashDirectBytes=0,e.kMinMatchCheck=4,e.kFixHashSize=66560):(e.kNumHashDirectBytes=2,e.kMinMatchCheck=3,e.kFixHashSize=0)}function Ot(e,t){var n,i,o,r,s,a,u,l,c,h,d,f,p,_,m,g,v;do{if(e._pos+e._matchMaxLen<=e._streamPos)f=e._matchMaxLen;else if(f=e._streamPos-e._pos,f<e.kMinMatchCheck){Et(e);continue}for(p=e._pos>e._cyclicBufferSize?e._pos-e._cyclicBufferSize:0,i=e._bufferOffset+e._pos,e.HASH_ARRAY?(v=Qo[255&e._bufferBase[i]]^255&e._bufferBase[i+1],a=1023&v,e._hash[a]=e._pos,v^=(255&e._bufferBase[i+2])<<8,u=65535&v,e._hash[1024+u]=e._pos,l=(v^Qo[255&e._bufferBase[i+3]]<<5)&e._hashMask):l=255&e._bufferBase[i]^(255&e._bufferBase[i+1])<<8,o=e._hash[e.kFixHashSize+l],e._hash[e.kFixHashSize+l]=e._pos,m=(e._cyclicBufferPos<<1)+1,g=e._cyclicBufferPos<<1,h=d=e.kNumHashDirectBytes,n=e._cutValue;;){if(p>=o||0==n--){e._son[m]=e._son[g]=0;break}if(s=e._pos-o,r=(s<=e._cyclicBufferPos?e._cyclicBufferPos-s:e._cyclicBufferPos-s+e._cyclicBufferSize)<<1,_=e._bufferOffset+o,c=d>h?h:d,e._bufferBase[_+c]==e._bufferBase[i+c]){for(;++c!=f&&e._bufferBase[_+c]==e._bufferBase[i+c];);if(c==f){e._son[g]=e._son[r],e._son[m]=e._son[r+1];break}}(255&e._bufferBase[_+c])<(255&e._bufferBase[i+c])?(e._son[g]=o,g=r+1,o=e._son[g],d=c):(e._son[m]=o,m=r,o=e._son[m],h=c)}Et(e)}while(0!=--t)}function Ht(){return Mr}function zt(){}function At(e,t,n){var i;for(i=e._pos-t-1,0>i&&(i+=e._windowSize);0!=n;--n)i>=e._windowSize&&(i=0),e._buffer[e._pos++]=e._buffer[i++],e._pos>=e._windowSize&&$t(e)}function Nt(e,t){(null==e._buffer||e._windowSize!=t)&&(e._buffer=v(lr,0,-1,t,1)),e._windowSize=t,e._pos=0,e._streamPos=0}function $t(e){var t;t=e._pos-e._streamPos,0!=t&&(me(e._stream,e._buffer,e._streamPos,t),e._pos>=e._windowSize&&(e._pos=0),e._streamPos=e._pos)}function Ft(e,t){var n;return n=e._pos-t-1,0>n&&(n+=e._windowSize),e._buffer[n]}function Yt(e,t){t||(e._streamPos=0,e._pos=0)}function jt(e,t){e._buffer[e._pos++]=t,e._pos>=e._windowSize&&$t(e)}function Vt(e){$t(e),e._stream=null}function Wt(e,t){$t(e),e._stream=null,e._stream=t}function Zt(){return Cr}function Gt(){}function qt(e){return e-=2,4>e?e:3}function Ut(e){return 4>e?0:10>e?e-3:e-6}function Jt(e,t){return e.encoder=t,e.decoder=null,e.alive=!0,e}function Qt(e,t){return e.decoder=t,e.encoder=null,e.alive=!0,e}function Xt(e){var t;if(!e.alive)throw new Fe;t=!0;try{return e.encoder?en(e):Kt(e),t=!1,e.alive}finally{t&&(e.alive=!1)}}function Kt(e){var t;if(t=sn(e.decoder),-1==t)throw be(new we,"corrupted input");e.inBytesProcessed=ko,e.outBytesProcessed=e.decoder.nowPos64,(1==t||I(e.decoder.outSize,Bo)>=0&&I(e.decoder.nowPos64,e.decoder.outSize)>=0)&&(on(e.decoder),e.alive=!1)}function en(e){Rn(e.encoder,e.encoder.processedInSize,e.encoder.processedOutSize,e.encoder.finished),e.inBytesProcessed=e.encoder.processedInSize[0],e.encoder.finished[0]&&(Gn(e.encoder),e.alive=!1)}function tn(){return kr}function nn(){}function on(e){$t(e.m_OutWindow),Vt(e.m_OutWindow),e.m_RangeDecoder.Stream=null}function rn(e,t,n,i){return e.m_RangeDecoder.Stream=t,Wt(e.m_OutWindow,n),un(e),e.state=0,e.rep0=0,e.rep1=0,e.rep2=0,e.rep3=0,e.outSize=i,e.nowPos64=Bo,e.prevByte=0,Qt(new nn,e)}function sn(e){var t,n,i,o,r,s;if(s=F(e.nowPos64)&e.m_PosStateMask,0==Zi(e.m_RangeDecoder,e.m_IsMatchDecoders,(e.state<<4)+s))t=wn(e.m_LiteralDecoder,F(e.nowPos64),e.prevByte),e.state<7?e.prevByte=Pn(t,e.m_RangeDecoder):e.prevByte=Dn(t,e.m_RangeDecoder,Ft(e.m_OutWindow,e.rep0)),jt(e.m_OutWindow,e.prevByte),e.state=Ut(e.state),e.nowPos64=T(e.nowPos64,To);else{if(1==Zi(e.m_RangeDecoder,e.m_IsRepDecoders,e.state))i=0,0==Zi(e.m_RangeDecoder,e.m_IsRepG0Decoders,e.state)?0==Zi(e.m_RangeDecoder,e.m_IsRep0LongDecoders,(e.state<<4)+s)&&(e.state=e.state<7?9:11,i=1):(0==Zi(e.m_RangeDecoder,e.m_IsRepG1Decoders,e.state)?n=e.rep1:(0==Zi(e.m_RangeDecoder,e.m_IsRepG2Decoders,e.state)?n=e.rep2:(n=e.rep3,e.rep3=e.rep2),e.rep2=e.rep1),e.rep1=e.rep0,e.rep0=n),0==i&&(i=_n(e.m_RepLenDecoder,e.m_RangeDecoder,s)+2,e.state=e.state<7?8:11);else if(e.rep3=e.rep2,e.rep2=e.rep1,e.rep1=e.rep0,i=2+_n(e.m_LenDecoder,e.m_RangeDecoder,s),e.state=e.state<7?7:10,r=Ei(e.m_PosSlotDecoder[qt(i)],e.m_RangeDecoder),r>=4){if(o=(r>>1)-1,e.rep0=(2|1&r)<<o,14>r)e.rep0+=Ii(e.m_PosDecoders,e.rep0-r-1,e.m_RangeDecoder,o);else if(e.rep0+=Gi(e.m_RangeDecoder,o-4)<<4,e.rep0+=Ri(e.m_PosAlignDecoder,e.m_RangeDecoder),e.rep0<0)return-1==e.rep0?1:-1}else e.rep0=r;if(I(N(e.rep0),e.nowPos64)>=0||e.rep0>=e.m_DictionarySizeCheck)return-1;At(e.m_OutWindow,e.rep0,i),e.nowPos64=T(e.nowPos64,N(i)),e.prevByte=Ft(e.m_OutWindow,0)}return 0}function an(e){var t;for(e.m_OutWindow=new Gt,e.m_RangeDecoder=new Qi,e.m_IsMatchDecoders=v(Br,0,-1,192,1),e.m_IsRepDecoders=v(Br,0,-1,12,1),e.m_IsRepG0Decoders=v(Br,0,-1,12,1),e.m_IsRepG1Decoders=v(Br,0,-1,12,1),e.m_IsRepG2Decoders=v(Br,0,-1,12,1),e.m_IsRep0LongDecoders=v(Br,0,-1,192,1),e.m_PosSlotDecoder=v(Tr,0,7,4,0),e.m_PosDecoders=v(Br,0,-1,114,1),e.m_PosAlignDecoder=Ti(new Hi,4),e.m_LenDecoder=mn(new bn),e.m_RepLenDecoder=mn(new bn),e.m_LiteralDecoder=new Ln,t=0;4>t;++t)e.m_PosSlotDecoder[t]=Ti(new Hi,6);return e}function un(e){var t;for(Yt(e.m_OutWindow,!1),Ui(e.m_IsMatchDecoders),Ui(e.m_IsRep0LongDecoders),Ui(e.m_IsRepDecoders),Ui(e.m_IsRepG0Decoders),Ui(e.m_IsRepG1Decoders),Ui(e.m_IsRepG2Decoders),Ui(e.m_PosDecoders),xn(e.m_LiteralDecoder),t=0;4>t;++t)Ui(e.m_PosSlotDecoder[t].Models);gn(e.m_LenDecoder),gn(e.m_RepLenDecoder),Ui(e.m_PosAlignDecoder.Models),qi(e.m_RangeDecoder)}function ln(e,t){var n,i,o,r,s,a,u;if(t.length<5)return!1;for(u=255&t[0],o=u%9,a=~~(u/9),r=a%5,s=~~(a/5),n=0,i=0;4>i;++i)n+=(255&t[1+i])<<8*i;return hn(e,o,r,s)?cn(e,n):!1}function cn(e,t){return 0>t?!1:(e.m_DictionarySize!=t&&(e.m_DictionarySize=t,e.m_DictionarySizeCheck=Ve(e.m_DictionarySize,1),Nt(e.m_OutWindow,Ve(e.m_DictionarySizeCheck,4096))),!0)}function hn(e,t,n,i){var o;return t>8||n>4||i>4?!1:(yn(e.m_LiteralDecoder,n,t),o=1<<i,pn(e.m_LenDecoder,o),pn(e.m_RepLenDecoder,o),e.m_PosStateMask=o-1,!0)}function dn(){return Er}function fn(){}function pn(e,t){for(;e.m_NumPosStates<t;++e.m_NumPosStates)e.m_LowCoder[e.m_NumPosStates]=Ti(new Hi,3),e.m_MidCoder[e.m_NumPosStates]=Ti(new Hi,3)}function _n(e,t,n){var i;return 0==Zi(t,e.m_Choice,0)?Ei(e.m_LowCoder[n],t):(i=8,i+=0==Zi(t,e.m_Choice,1)?Ei(e.m_MidCoder[n],t):8+Ei(e.m_HighCoder,t))}function mn(e){return e.m_Choice=v(Br,0,-1,2,1),e.m_LowCoder=v(Tr,0,7,16,0),e.m_MidCoder=v(Tr,0,7,16,0),e.m_HighCoder=Ti(new Hi,8),e}function gn(e){var t;for(Ui(e.m_Choice),t=0;t<e.m_NumPosStates;++t)Ui(e.m_LowCoder[t].Models),Ui(e.m_MidCoder[t].Models);Ui(e.m_HighCoder.Models)}function vn(){return Rr}function bn(){}function yn(e,t,n){var i,o;if(null==e.m_Coders||e.m_NumPrevBits!=n||e.m_NumPosBits!=t)for(e.m_NumPosBits=t,e.m_PosMask=(1<<t)-1,e.m_NumPrevBits=n,o=1<<e.m_NumPrevBits+e.m_NumPosBits,e.m_Coders=v(Ir,0,4,o,0),i=0;o>i;++i)e.m_Coders[i]=Mn(new kn)}function wn(e,t,n){return e.m_Coders[((t&e.m_PosMask)<<e.m_NumPrevBits)+((255&n)>>>8-e.m_NumPrevBits)]}function xn(e){var t,n;for(n=1<<e.m_NumPrevBits+e.m_NumPosBits,t=0;n>t;++t)Ui(e.m_Coders[t].m_Decoders)}function Sn(){return Or}function Ln(){}function Pn(e,t){var n;n=1;do n=n<<1|Zi(t,e.m_Decoders,n);while(256>n);return n<<24>>24}function Dn(e,t,n){var i,o,r;r=1;do if(o=n>>7&1,n<<=1,i=Zi(t,e.m_Decoders,(1+o<<8)+r),r=r<<1|i,o!=i){for(;256>r;)r=r<<1|Zi(t,e.m_Decoders,r);break}while(256>r);return r<<24>>24}function Mn(e){return e.m_Decoders=v(Br,0,-1,768,1),e}function Cn(){return Hr}function kn(){}function Bn(){Bn=wo;var e,t,n,i;for(Xo=v(lr,0,-1,2048,1),e=2,Xo[0]=0,Xo[1]=1,i=2;22>i;++i)for(n=1<<(i>>1)-1,t=0;n>t;++t,++e)Xo[e]=i<<24>>24}function Tn(e,t){var n,i,o,r;e._optimumEndIndex=t,o=e._optimum[t].PosPrev,i=e._optimum[t].BackPrev;do e._optimum[t].Prev1IsChar&&(Mi(e._optimum[o]),e._optimum[o].PosPrev=o-1,e._optimum[t].Prev2&&(e._optimum[o-1].Prev1IsChar=!1,e._optimum[o-1].PosPrev=e._optimum[t].PosPrev2,e._optimum[o-1].BackPrev=e._optimum[t].BackPrev2)),r=o,n=i,i=e._optimum[r].BackPrev,o=e._optimum[r].PosPrev,e._optimum[r].BackPrev=n,e._optimum[r].PosPrev=t,t=r;while(t>0);return e.backRes=e._optimum[0].BackPrev,e._optimumCurrentIndex=e._optimum[0].PosPrev,e._optimumCurrentIndex}function En(e){var t;for(e._state=0,e._previousByte=0,t=0;4>t;++t)e._repDistances[t]=0}function Rn(e,t,n,i){var o,r,s,a,u,l,c,h,d,f,p,_,m,g,v;if(t[0]=Bo,n[0]=Bo,i[0]=!0,e._inStream&&(e._matchFinder._stream=e._inStream,Tt(e._matchFinder),e._needReleaseMFStream=!0,e._inStream=null),!e._finished){if(e._finished=!0,g=e.nowPos64,z(e.nowPos64,Bo)){if(0==wt(e._matchFinder))return void An(e,F(e.nowPos64));Wn(e),m=F(e.nowPos64)&e._posStateMask,Ki(e._rangeEncoder,e._isMatch,(e._state<<4)+m,0),e._state=Ut(e._state),s=bt(e._matchFinder,-e._additionalOffset),wi(gi(e._literalEncoder,F(e.nowPos64),e._previousByte),e._rangeEncoder,s),e._previousByte=s,--e._additionalOffset,e.nowPos64=T(e.nowPos64,To)}if(0==wt(e._matchFinder))return void An(e,F(e.nowPos64));for(;;){if(c=Nn(e,F(e.nowPos64)),f=e.backRes,m=F(e.nowPos64)&e._posStateMask,r=(e._state<<4)+m,1==c&&-1==f)Ki(e._rangeEncoder,e._isMatch,r,0),s=bt(e._matchFinder,-e._additionalOffset),v=gi(e._literalEncoder,F(e.nowPos64),e._previousByte),e._state<7?wi(v,e._rangeEncoder,s):(d=bt(e._matchFinder,-e._repDistances[0]-1-e._additionalOffset),xi(v,e._rangeEncoder,d,s)),e._previousByte=s,e._state=Ut(e._state);else{if(Ki(e._rangeEncoder,e._isMatch,r,1),4>f){if(Ki(e._rangeEncoder,e._isRep,e._state,1),0==f?(Ki(e._rangeEncoder,e._isRepG0,e._state,0),1==c?Ki(e._rangeEncoder,e._isRep0Long,r,0):Ki(e._rangeEncoder,e._isRep0Long,r,1)):(Ki(e._rangeEncoder,e._isRepG0,e._state,1),1==f?Ki(e._rangeEncoder,e._isRepG1,e._state,0):(Ki(e._rangeEncoder,e._isRepG1,e._state,1),Ki(e._rangeEncoder,e._isRepG2,e._state,f-2))),1==c?e._state=e._state<7?9:11:(ci(e._repMatchLenEncoder,e._rangeEncoder,c-2,m),e._state=e._state<7?8:11),a=e._repDistances[f],0!=f){for(l=f;l>=1;--l)e._repDistances[l]=e._repDistances[l-1];e._repDistances[0]=a}}else{for(Ki(e._rangeEncoder,e._isRep,e._state,0),e._state=e._state<7?7:10,ci(e._lenEncoder,e._rangeEncoder,c-2,m),f-=4,_=ei(f),h=qt(c),Ai(e._posSlotEncoder[h],e._rangeEncoder,_),_>=4&&(u=(_>>1)-1,o=(2|1&_)<<u,p=f-o,14>_?Yi(e._posEncoders,o-_-1,e._rangeEncoder,u,p):(eo(e._rangeEncoder,p>>4,u-4),$i(e._posAlignEncoder,e._rangeEncoder,15&p),++e._alignPriceCount)),a=f,l=3;l>=1;--l)e._repDistances[l]=e._repDistances[l-1];e._repDistances[0]=a,++e._matchPriceCount}e._previousByte=bt(e._matchFinder,c-1-e._additionalOffset)}if(e._additionalOffset-=c,e.nowPos64=T(e.nowPos64,N(c)),0==e._additionalOffset){if(e._matchPriceCount>=128&&zn(e),e._alignPriceCount>=16&&Hn(e),t[0]=e.nowPos64,n[0]=no(e._rangeEncoder),0==wt(e._matchFinder))return void An(e,F(e.nowPos64));if(I(J(e.nowPos64,g),Ro)>=0)return e._finished=!1,void(i[0]=!1)}}}}function In(e){var t,n;e._matchFinder||(Ct(),t=new zt,n=4,0==e._matchFinderType&&(n=2),It(t,n),e._matchFinder=t),mi(e._literalEncoder,e._numLiteralPosStateBits,e._numLiteralContextBits),(e._dictionarySize!=e._dictionarySizePrev||e._numFastBytesPrev!=e._numFastBytes)&&(kt(e._matchFinder,e._dictionarySize,4096,e._numFastBytes,274),e._dictionarySizePrev=e._dictionarySize,e._numFastBytesPrev=e._numFastBytes)}function On(e){var t;for(Bn(),e._repDistances=v(xr,0,-1,4,1),e._optimum=v(zr,0,6,4096,0),e._rangeEncoder=(Xi(),new lo),e._isMatch=v(Br,0,-1,192,1),e._isRep=v(Br,0,-1,12,1),e._isRepG0=v(Br,0,-1,12,1),e._isRepG1=v(Br,0,-1,12,1),e._isRepG2=v(Br,0,-1,12,1),e._isRep0Long=v(Br,0,-1,192,1),e._posSlotEncoder=v(Ar,0,8,4,0),e._posEncoders=v(Br,0,-1,114,1),e._posAlignEncoder=zi(new Wi,4),e._lenEncoder=hi(new _i),e._repMatchLenEncoder=hi(new _i),e._literalEncoder=new yi,e._matchDistances=v(xr,0,-1,548,1),e._posSlotPrices=v(xr,0,-1,256,1),e._distancesPrices=v(xr,0,-1,512,1),e._alignPrices=v(xr,0,-1,16,1),e.reps=v(xr,0,-1,4,1),e.repLens=v(xr,0,-1,4,1),e.processedInSize=v(Nr,0,-1,1,3),e.processedOutSize=v(Nr,0,-1,1,3),e.finished=v($r,0,-1,1,2),e.properties=v(lr,0,-1,5,1),e.tempPrices=v(xr,0,-1,128,1),t=0;4096>t;++t)e._optimum[t]=new Bi;for(t=0;4>t;++t)e._posSlotEncoder[t]=zi(new Wi,6);return e}function Hn(e){var t;for(t=0;16>t;++t)e._alignPrices[t]=Fi(e._posAlignEncoder,t);e._alignPriceCount=0}function zn(e){var t,n,i,o,r,s,a,u;for(o=4;128>o;++o)s=ei(o),i=(s>>1)-1,t=(2|1&s)<<i,e.tempPrices[o]=ji(e._posEncoders,t-s-1,i,o-t);for(r=0;4>r;++r){for(n=e._posSlotEncoder[r],a=r<<6,s=0;s<e._distTableSize;++s)e._posSlotPrices[a+s]=Ni(n,s);for(s=14;s<e._distTableSize;++s)e._posSlotPrices[a+s]+=(s>>1)-1-4<<6;for(u=128*r,o=0;4>o;++o)e._distancesPrices[u+o]=e._posSlotPrices[a+o];for(;128>o;++o)e._distancesPrices[u+o]=e._posSlotPrices[a+ei(o)]+e.tempPrices[o]}e._matchPriceCount=0}function An(e,t){Zn(e),Kn(e,t&e._posStateMask),to(e._rangeEncoder)}function Nn(e,t){var n,i,o,r,s,a,u,l,c,h,d,f,p,_,m,g,v,b,y,w,x,S,L,P,D,M,C,k,B,T,E,R,I,O,H,z,A,N,$,F,Y,j,V,W,Z,G,q,U,J,Q;if(e._optimumEndIndex!=e._optimumCurrentIndex)return p=e._optimum[e._optimumCurrentIndex].PosPrev-e._optimumCurrentIndex,e.backRes=e._optimum[e._optimumCurrentIndex].BackPrev,e._optimumCurrentIndex=e._optimum[e._optimumCurrentIndex].PosPrev,p;if(e._optimumCurrentIndex=e._optimumEndIndex=0,e._longestMatchWasFound?(f=e._longestMatchLength,e._longestMatchWasFound=!1):f=Wn(e),C=e._numDistancePairs,D=wt(e._matchFinder)+1,2>D)return e.backRes=-1,1;for(D>273&&(D=273),F=0,c=0;4>c;++c)e.reps[c]=e._repDistances[c],e.repLens[c]=yt(e._matchFinder,-1,e.reps[c],273),e.repLens[c]>e.repLens[F]&&(F=c);if(e.repLens[F]>=e._numFastBytes)return e.backRes=F,p=e.repLens[F],Vn(e,p-1),p;if(f>=e._numFastBytes)return e.backRes=e._matchDistances[C-1]+4,Vn(e,f-1),f;if(u=bt(e._matchFinder,-1),v=bt(e._matchFinder,-e._repDistances[0]-1-1),2>f&&u!=v&&e.repLens[F]<2)return e.backRes=-1,1;if(e._optimum[0].State=e._state,O=t&e._posStateMask,e._optimum[1].Price=(Xi(),Ko[e._isMatch[(e._state<<4)+O]>>>2]+Li(gi(e._literalEncoder,t,e._previousByte),e._state>=7,v,u)),Mi(e._optimum[1]),b=Ko[2048-e._isMatch[(e._state<<4)+O]>>>2],$=b+Ko[2048-e._isRep[e._state]>>>2],v==u&&(Y=$+Yn(e,e._state,O),Y<e._optimum[1].Price&&(e._optimum[1].Price=Y,Ci(e._optimum[1]))),d=f>=e.repLens[F]?f:e.repLens[F],2>d)return e.backRes=e._optimum[1].BackPrev,1;e._optimum[1].PosPrev=0,e._optimum[0].Backs0=e.reps[0],e._optimum[0].Backs1=e.reps[1],e._optimum[0].Backs2=e.reps[2],e._optimum[0].Backs3=e.reps[3],h=d;do e._optimum[h--].Price=268435455;while(h>=2);for(c=0;4>c;++c)if(N=e.repLens[c],!(2>N)){z=$+Fn(e,c,e._state,O);do r=z+di(e._repMatchLenEncoder,N-2,O),E=e._optimum[N],r<E.Price&&(E.Price=r,E.PosPrev=0,E.BackPrev=c,E.Prev1IsChar=!1);while(--N>=2)}if(P=b+Ko[e._isRep[e._state]>>>2],h=e.repLens[0]>=2?e.repLens[0]+1:2,f>=h){for(k=0;h>e._matchDistances[k];)k+=2;for(;l=e._matchDistances[k+1],r=P+$n(e,l,h,O),E=e._optimum[h],r<E.Price&&(E.Price=r,E.PosPrev=0,E.BackPrev=l+4,E.Prev1IsChar=!1),h!=e._matchDistances[k]||(k+=2,k!=C);++h);}for(n=0;;){if(++n,n==d)return Tn(e,n);if(y=Wn(e),C=e._numDistancePairs,y>=e._numFastBytes)return e._longestMatchLength=y,e._longestMatchWasFound=!0,Tn(e,n);if(++t,I=e._optimum[n].PosPrev,e._optimum[n].Prev1IsChar?(--I,e._optimum[n].Prev2?(V=e._optimum[e._optimum[n].PosPrev2].State,V=e._optimum[n].BackPrev2<4?7>V?8:11:7>V?7:10):V=e._optimum[I].State,V=Ut(V)):V=e._optimum[I].State,I==n-1?V=0==e._optimum[n].BackPrev?7>V?9:11:Ut(V):(e._optimum[n].Prev1IsChar&&e._optimum[n].Prev2?(I=e._optimum[n].PosPrev2,R=e._optimum[n].BackPrev2,V=7>V?8:11):(R=e._optimum[n].BackPrev,V=4>R?7>V?8:11:7>V?7:10),T=e._optimum[I],4>R?0==R?(e.reps[0]=T.Backs0,e.reps[1]=T.Backs1,e.reps[2]=T.Backs2,e.reps[3]=T.Backs3):1==R?(e.reps[0]=T.Backs1,e.reps[1]=T.Backs0,e.reps[2]=T.Backs2,e.reps[3]=T.Backs3):2==R?(e.reps[0]=T.Backs2,e.reps[1]=T.Backs0,e.reps[2]=T.Backs1,e.reps[3]=T.Backs3):(e.reps[0]=T.Backs3,e.reps[1]=T.Backs0,e.reps[2]=T.Backs1,e.reps[3]=T.Backs2):(e.reps[0]=R-4,e.reps[1]=T.Backs0,e.reps[2]=T.Backs1,e.reps[3]=T.Backs2)),e._optimum[n].State=V,e._optimum[n].Backs0=e.reps[0],e._optimum[n].Backs1=e.reps[1],e._optimum[n].Backs2=e.reps[2],e._optimum[n].Backs3=e.reps[3],a=e._optimum[n].Price,u=bt(e._matchFinder,-1),v=bt(e._matchFinder,-e.reps[0]-1-1),O=t&e._posStateMask,i=a+Ko[e._isMatch[(V<<4)+O]>>>2]+Li(gi(e._literalEncoder,t,bt(e._matchFinder,-2)),V>=7,v,u),S=e._optimum[n+1],w=!1,i<S.Price&&(S.Price=i,S.PosPrev=n,S.BackPrev=-1,S.Prev1IsChar=!1,w=!0),b=a+Ko[2048-e._isMatch[(V<<4)+O]>>>2],$=b+Ko[2048-e._isRep[V]>>>2],v!=u||S.PosPrev<n&&0==S.BackPrev||(Y=$+(Ko[e._isRepG0[V]>>>2]+Ko[e._isRep0Long[(V<<4)+O]>>>2]),Y<=S.Price&&(S.Price=Y,S.PosPrev=n,S.BackPrev=0,S.Prev1IsChar=!1,w=!0)),M=wt(e._matchFinder)+1,M=M>4095-n?4095-n:M,D=M,!(2>D)){if(D>e._numFastBytes&&(D=e._numFastBytes),!w&&v!=u&&(Z=We(M-1,e._numFastBytes),m=yt(e._matchFinder,0,e.reps[0],Z),m>=2)){for(W=Ut(V),H=t+1&e._posStateMask,L=i+Ko[2048-e._isMatch[(W<<4)+H]>>>2]+Ko[2048-e._isRep[W]>>>2],B=n+1+m;B>d;)e._optimum[++d].Price=268435455;r=L+(G=di(e._repMatchLenEncoder,m-2,H),G+Fn(e,0,W,H)),E=e._optimum[B],r<E.Price&&(E.Price=r,E.PosPrev=n+1,E.BackPrev=0,E.Prev1IsChar=!0,E.Prev2=!1)}for(j=2,A=0;4>A;++A)if(_=yt(e._matchFinder,-1,e.reps[A],D),!(2>_)){g=_;do{for(;n+_>d;)e._optimum[++d].Price=268435455;r=$+(q=di(e._repMatchLenEncoder,_-2,O),q+Fn(e,A,V,O)),E=e._optimum[n+_],r<E.Price&&(E.Price=r,E.PosPrev=n,E.BackPrev=A,E.Prev1IsChar=!1)}while(--_>=2);if(_=g,0==A&&(j=_+1),M>_&&(Z=We(M-1-_,e._numFastBytes),m=yt(e._matchFinder,_,e.reps[A],Z),m>=2)){for(W=7>V?8:11,H=t+_&e._posStateMask,o=$+(U=di(e._repMatchLenEncoder,_-2,O),U+Fn(e,A,V,O))+Ko[e._isMatch[(W<<4)+H]>>>2]+Li(gi(e._literalEncoder,t+_,bt(e._matchFinder,_-1-1)),!0,bt(e._matchFinder,_-1-(e.reps[A]+1)),bt(e._matchFinder,_-1)),W=Ut(W),H=t+_+1&e._posStateMask,x=o+Ko[2048-e._isMatch[(W<<4)+H]>>>2],L=x+Ko[2048-e._isRep[W]>>>2],B=_+1+m;n+B>d;)e._optimum[++d].Price=268435455;r=L+(J=di(e._repMatchLenEncoder,m-2,H),J+Fn(e,0,W,H)),E=e._optimum[n+B],r<E.Price&&(E.Price=r,E.PosPrev=n+_+1,E.BackPrev=0,E.Prev1IsChar=!0,E.Prev2=!0,E.PosPrev2=n,E.BackPrev2=A)}}if(y>D){for(y=D,C=0;y>e._matchDistances[C];C+=2);e._matchDistances[C]=y,C+=2}if(y>=j){for(P=b+Ko[e._isRep[V]>>>2];n+y>d;)e._optimum[++d].Price=268435455;for(k=0;j>e._matchDistances[k];)k+=2;for(_=j;;++_)if(s=e._matchDistances[k+1],r=P+$n(e,s,_,O),E=e._optimum[n+_],r<E.Price&&(E.Price=r,E.PosPrev=n,E.BackPrev=s+4,E.Prev1IsChar=!1),_==e._matchDistances[k]){if(M>_&&(Z=We(M-1-_,e._numFastBytes),m=yt(e._matchFinder,_,s,Z),m>=2)){for(W=7>V?7:10,H=t+_&e._posStateMask,o=r+Ko[e._isMatch[(W<<4)+H]>>>2]+Li(gi(e._literalEncoder,t+_,bt(e._matchFinder,_-1-1)),!0,bt(e._matchFinder,_-(s+1)-1),bt(e._matchFinder,_-1)),W=Ut(W),H=t+_+1&e._posStateMask,x=o+Ko[2048-e._isMatch[(W<<4)+H]>>>2],L=x+Ko[2048-e._isRep[W]>>>2],B=_+1+m;n+B>d;)e._optimum[++d].Price=268435455;r=L+(Q=di(e._repMatchLenEncoder,m-2,H),Q+Fn(e,0,W,H)),E=e._optimum[n+B],r<E.Price&&(E.Price=r,E.PosPrev=n+_+1,E.BackPrev=0,E.Prev1IsChar=!0,E.Prev2=!0,E.PosPrev2=n,E.BackPrev2=s+4)}if(k+=2,k==C)break}}}}}function $n(e,t,n,i){var o,r;return o=qt(n),r=128>t?e._distancesPrices[128*o+t]:e._posSlotPrices[(o<<6)+ti(t)]+e._alignPrices[15&t],r+di(e._lenEncoder,n-2,i)}function Fn(e,t,n,i){var o;return 0==t?(Xi(),o=Ko[e._isRepG0[n]>>>2],o+=Ko[2048-e._isRep0Long[(n<<4)+i]>>>2]):(Xi(),o=Ko[2048-e._isRepG0[n]>>>2],1==t?o+=Ko[e._isRepG1[n]>>>2]:(o+=Ko[2048-e._isRepG1[n]>>>2],o+=ro(e._isRepG2[n],t-2))),o}function Yn(e,t,n){return Xi(),Ko[e._isRepG0[t]>>>2]+Ko[e._isRep0Long[(t<<4)+n]>>>2]}function jn(e){var t;for(En(e),io(e._rangeEncoder),so(e._isMatch),so(e._isRep0Long),so(e._isRep),so(e._isRepG0),so(e._isRepG1),so(e._isRepG2),so(e._posEncoders),vi(e._literalEncoder),t=0;4>t;++t)Ui(e._posSlotEncoder[t].Models);si(e._lenEncoder,1<<e._posStateBits),si(e._repMatchLenEncoder,1<<e._posStateBits),Ui(e._posAlignEncoder.Models),e._longestMatchWasFound=!1,e._optimumEndIndex=0,e._optimumCurrentIndex=0,e._additionalOffset=0}function Vn(e,t){t>0&&(Ot(e._matchFinder,t),e._additionalOffset+=t)}function Wn(e){var t;return t=0,e._numDistancePairs=Bt(e._matchFinder,e._matchDistances),e._numDistancePairs>0&&(t=e._matchDistances[e._numDistancePairs-2],t==e._numFastBytes&&(t+=yt(e._matchFinder,t-1,e._matchDistances[e._numDistancePairs-1],273-t))),++e._additionalOffset,t}function Zn(e){e._matchFinder&&e._needReleaseMFStream&&(e._matchFinder._stream=null,e._needReleaseMFStream=!1)}function Gn(e){Zn(e),e._rangeEncoder.Stream=null}function qn(e,t){var n;if(1>t||t>536870912)return!1;for(e._dictionarySize=t,n=0;t>1<<n;++n);return e._distTableSize=2*n,!0}function Un(e,t,n,i){return 0>n||n>4||0>t||t>8||0>i||i>4?!1:(e._numLiteralPosStateBits=n,e._numLiteralContextBits=t,e._posStateBits=i,e._posStateMask=(1<<e._posStateBits)-1,!0)}function Jn(e,t){var n;return 0>t||t>2?!1:(n=e._matchFinderType,e._matchFinderType=t,e._matchFinder&&n!=e._matchFinderType&&(e._dictionarySizePrev=-1,e._matchFinder=null),!0)}function Qn(e,t){return 5>t||t>273?!1:(e._numFastBytes=t,!0)}function Xn(e,t){var n;for(e.properties[0]=9*(5*e._posStateBits+e._numLiteralPosStateBits)+e._numLiteralContextBits<<24>>24,n=0;4>n;++n)e.properties[1+n]=e._dictionarySize>>8*n<<24>>24;me(t,e.properties,0,5)}function Kn(e,t){var n;e._writeEndMark&&(Ki(e._rangeEncoder,e._isMatch,(e._state<<4)+t,1),Ki(e._rangeEncoder,e._isRep,e._state,0),e._state=e._state<7?7:10,ci(e._lenEncoder,e._rangeEncoder,0,t),n=qt(2),Ai(e._posSlotEncoder[n],e._rangeEncoder,63),eo(e._rangeEncoder,67108863,26),$i(e._posAlignEncoder,e._rangeEncoder,15))}function ei(e){return 2048>e?Xo[e]:2097152>e?Xo[e>>10]+20:Xo[e>>20]+40}function ti(e){return 131072>e?Xo[e>>6]+12:134217728>e?Xo[e>>16]+32:Xo[e>>26]+52}function ni(){return Fr}function ii(){}function oi(e,t,n,i){8>n?(Ki(t,e._choice,0,0),Ai(e._lowCoder[i],t,n)):(n-=8,Ki(t,e._choice,0,1),8>n?(Ki(t,e._choice,1,0),Ai(e._midCoder[i],t,n)):(Ki(t,e._choice,1,1),Ai(e._highCoder,t,n-8)))}function ri(e){var t;for(e._choice=v(Br,0,-1,2,1),e._lowCoder=v(Ar,0,8,16,0),e._midCoder=v(Ar,0,8,16,0),e._highCoder=zi(new Wi,8),t=0;16>t;++t)e._lowCoder[t]=zi(new Wi,3),e._midCoder[t]=zi(new Wi,3);return e}function si(e,t){var n;for(so(e._choice),n=0;t>n;++n)Ui(e._lowCoder[n].Models),Ui(e._midCoder[n].Models);Ui(e._highCoder.Models)}function ai(e,t,n,i,o){var r,s,a,u,l;for(Xi(),r=Ko[e._choice[0]>>>2],s=Ko[2048-e._choice[0]>>>2],a=s+Ko[e._choice[1]>>>2],u=s+Ko[2048-e._choice[1]>>>2],l=0,l=0;8>l;++l){if(l>=n)return;i[o+l]=r+Ni(e._lowCoder[t],l)}for(;16>l;++l){if(l>=n)return;i[o+l]=a+Ni(e._midCoder[t],l-8)}for(;n>l;++l)i[o+l]=u+Ni(e._highCoder,l-8-8)}function ui(){return Wr}function li(){}function ci(e,t,n,i){oi(e,t,n,i),0==--e._counters[i]&&(ai(e,i,e._tableSize,e._prices,272*i),e._counters[i]=e._tableSize)}function hi(e){return ri(e),e._prices=v(xr,0,-1,4352,1),e._counters=v(xr,0,-1,16,1),e}function di(e,t,n){return e._prices[272*n+t]}function fi(e,t){var n;for(n=0;t>n;++n)ai(e,n,e._tableSize,e._prices,272*n),e._counters[n]=e._tableSize}function pi(){return Zr}function _i(){}function mi(e,t,n){var i,o;if(null==e.m_Coders||e.m_NumPrevBits!=n||e.m_NumPosBits!=t)for(e.m_NumPosBits=t,e.m_PosMask=(1<<t)-1,e.m_NumPrevBits=n,o=1<<e.m_NumPrevBits+e.m_NumPosBits,e.m_Coders=v(Yr,0,5,o,0),i=0;o>i;++i)e.m_Coders[i]=Si(new Di);
}function gi(e,t,n){return e.m_Coders[((t&e.m_PosMask)<<e.m_NumPrevBits)+((255&n)>>>8-e.m_NumPrevBits)]}function vi(e){var t,n;for(n=1<<e.m_NumPrevBits+e.m_NumPosBits,t=0;n>t;++t)so(e.m_Coders[t].m_Encoders)}function bi(){return jr}function yi(){}function wi(e,t,n){var i,o,r;for(o=1,r=7;r>=0;--r)i=n>>r&1,Ki(t,e.m_Encoders,o,i),o=o<<1|i}function xi(e,t,n,i){var o,r,s,a,u,l;for(r=1,u=!0,s=7;s>=0;--s)o=i>>s&1,l=r,u&&(a=n>>s&1,l+=1+a<<8,u=a==o),Ki(t,e.m_Encoders,l,o),r=r<<1|o}function Si(e){return e.m_Encoders=v(Br,0,-1,768,1),e}function Li(e,t,n,i){var o,r,s,a,u;if(u=0,r=1,s=7,t)for(;s>=0;--s)if(a=n>>s&1,o=i>>s&1,u+=ro(e.m_Encoders[(1+a<<8)+r],o),r=r<<1|o,a!=o){--s;break}for(;s>=0;--s)o=i>>s&1,u+=ro(e.m_Encoders[r],o),r=r<<1|o;return u}function Pi(){return Vr}function Di(){}function Mi(e){e.BackPrev=-1,e.Prev1IsChar=!1}function Ci(e){e.BackPrev=0,e.Prev1IsChar=!1}function ki(){return Gr}function Bi(){}function Ti(e,t){return e.NumBitLevels=t,e.Models=v(Br,0,-1,1<<t,1),e}function Ei(e,t){var n,i;for(i=1,n=e.NumBitLevels;0!=n;--n)i=(i<<1)+Zi(t,e.Models,i);return i-(1<<e.NumBitLevels)}function Ri(e,t){var n,i,o,r;for(o=1,r=0,i=0;i<e.NumBitLevels;++i)n=Zi(t,e.Models,o),o<<=1,o+=n,r|=n<<i;return r}function Ii(e,t,n,i){var o,r,s,a;for(s=1,a=0,r=0;i>r;++r)o=Zi(n,e,t+s),s<<=1,s+=o,a|=o<<r;return a}function Oi(){return qr}function Hi(){}function zi(e,t){return e.NumBitLevels=t,e.Models=v(Br,0,-1,1<<t,1),e}function Ai(e,t,n){var i,o,r;for(r=1,o=e.NumBitLevels;0!=o;)--o,i=n>>>o&1,Ki(t,e.Models,r,i),r=r<<1|i}function Ni(e,t){var n,i,o,r;for(r=0,o=1,i=e.NumBitLevels;0!=i;)--i,n=t>>>i&1,r+=ro(e.Models[o],n),o=(o<<1)+n;return r}function $i(e,t,n){var i,o,r;for(r=1,o=0;o<e.NumBitLevels;++o)i=1&n,Ki(t,e.Models,r,i),r=r<<1|i,n>>=1}function Fi(e,t){var n,i,o,r;for(r=0,o=1,i=e.NumBitLevels;0!=i;--i)n=1&t,t>>>=1,r+=ro(e.Models[o],n),o=o<<1|n;return r}function Yi(e,t,n,i,o){var r,s,a;for(a=1,s=0;i>s;++s)r=1&o,Ki(n,e,t+a,r),a=a<<1|r,o>>=1}function ji(e,t,n,i){var o,r,s,a;for(a=0,s=1,r=n;0!=r;--r)o=1&i,i>>>=1,Xi(),a+=Ko[(2047&(e[t+s]-o^-o))>>>2],s=s<<1|o;return a}function Vi(){return Ur}function Wi(){}function Zi(e,t,n){var i,o;return o=t[n],i=(e.Range>>>11)*o,(-2147483648^e.Code)<(-2147483648^i)?(e.Range=i,t[n]=o+(2048-o>>>5)<<16>>16,0==(-16777216&e.Range)&&(e.Code=e.Code<<8|se(e.Stream),e.Range<<=8),0):(e.Range-=i,e.Code-=i,t[n]=o-(o>>>5)<<16>>16,0==(-16777216&e.Range)&&(e.Code=e.Code<<8|se(e.Stream),e.Range<<=8),1)}function Gi(e,t){var n,i,o;for(i=0,n=t;0!=n;--n)e.Range>>>=1,o=e.Code-e.Range>>>31,e.Code-=e.Range&o-1,i=i<<1|1-o,0==(-16777216&e.Range)&&(e.Code=e.Code<<8|se(e.Stream),e.Range<<=8);return i}function qi(e){var t;for(e.Code=0,e.Range=-1,t=0;5>t;++t)e.Code=e.Code<<8|se(e.Stream)}function Ui(e){var t;for(t=0;t<e.length;++t)e[t]=1024}function Ji(){return Jr}function Qi(){}function Xi(){Xi=wo;var e,t,n,i;for(Ko=v(xr,0,-1,512,1),t=8;t>=0;--t)for(i=1<<9-t-1,e=1<<9-t,n=i;e>n;++n)Ko[n]=(t<<6)+(e-n<<6>>>9-t-1)}function Ki(e,t,n,i){var o,r;r=t[n],o=(e.Range>>>11)*r,0==i?(e.Range=o,t[n]=r+(2048-r>>>5)<<16>>16):(e.Low=T(e.Low,R(N(o),zo)),e.Range-=o,t[n]=r-(r>>>5)<<16>>16),0==(-16777216&e.Range)&&(e.Range<<=8,oo(e))}function eo(e,t,n){var i;for(i=n-1;i>=0;--i)e.Range>>>=1,1==(t>>>i&1)&&(e.Low=T(e.Low,N(e.Range))),0==(-16777216&e.Range)&&(e.Range<<=8,oo(e))}function to(e){var t;for(t=0;5>t;++t)oo(e)}function no(e){return T(T(N(e._cacheSize),e._position),Eo)}function io(e){e._position=Bo,e.Low=Bo,e.Range=-1,e._cacheSize=1,e._cache=0}function oo(e){var t,n;if(t=F(U(e.Low,32)),0!=t||I(e.Low,Ho)<0){e._position=T(e._position,N(e._cacheSize)),n=e._cache;do _e(e.Stream,n+t),n=255;while(0!=--e._cacheSize);e._cache=F(e.Low)>>>24}++e._cacheSize,e.Low=G(R(e.Low,Io),8)}function ro(e,t){return Xi(),Ko[(2047&(e-t^-t))>>>2]}function so(e){Xi();var t;for(t=0;t<e.length;++t)e[t]=1024}function ao(){return Qr}function uo(e){var t;for(t=e.length-1;t>=0;t-=1)e[t]<0&&(e[t]=256+e[t]);return e}function lo(){}function co(e){var t,n,i,o,r;for(t=Qe(new Ke),n=0;n<e.length;++n)if(i=255&e[n],0==(128&i)){if(0==i)return uo(e);p(t.data,String.fromCharCode(65535&i))}else if(192==(224&i)){if(n+1>=e.length)return uo(e);if(o=255&e[++n],128!=(192&o))return uo(e);f(t.data,String.fromCharCode((31&i)<<6&65535|63&o))}else{if(224!=(240&i))return uo(e);if(n+2>=e.length)return uo(e);if(o=255&e[++n],128!=(192&o))return uo(e);if(r=255&e[++n],128!=(192&r))return uo(e);p(t.data,String.fromCharCode(65535&((15&i)<<12|(63&o)<<6|63&r)))}return _(t.data)}function ho(e){var t,n,i,o,r,s,a;for(a=e.length,s=v(mr,0,-1,a,1),Ue(e,0,a,s,0),n=s,o=0,r=0;r<e.length;++r)t=n[r],t>=1&&127>=t?++o:o+=0==t||t>=128&&2047>=t?2:3;for(i=v(lr,0,-1,o,1),o=0,r=0;r<e.length;++r)t=n[r],t>=1&&127>=t?i[o++]=t<<24>>24:0==t||t>=128&&2047>=t?(i[o++]=(192|t>>6&31)<<24>>24,i[o++]=(128|63&t)<<24>>24):(i[o++]=(224|t>>12&15)<<24>>24,i[o++]=(128|t>>6&63)<<24>>24,i[o++]=(128|63&t)<<24>>24);return i}function fo(e){return e}function po(e){return e[1]+e[0]}function _o(){function t(){var u;for(i=(new Date).getTime();ot(a.c);)if(n=po(a.c.chunker.inBytesProcessed)/po(a.c.length_0),(new Date).getTime()-i>200)return s?s(n):"undefined"!=typeof o&&e(n,o),setTimeout(t,0),!1;s?s(1):"undefined"!=typeof o&&e(1,o),u=pe(a.c.output).slice(0),r?r(u):"undefined"!=typeof o&&postMessage({action:Po,callback_num:o,result:u})}var n,i,o,r,s,a=fo(new vo),u=arguments[0],l=arguments[1];"function"==typeof arguments[2]?(r=arguments[2],"function"==typeof arguments[3]&&(s=arguments[3])):o=arguments[2],a.mode=os(l),a.c=ut(new ct,ho(u),a.mode),s?s(0):"undefined"!=typeof o&&e(0,o),setTimeout(t,1)}function mo(){function t(){var i;for(o=(new Date).getTime();ht(c.d);)if((new Date).getTime()-o>200)return l?(n=po(c.d.chunker.decoder.nowPos64)/po(c.d.length_0),a?a(n):"undefined"!=typeof r&&e(n,r)):u||(e(-1,r),u=!0),setTimeout(t,0),!1;a?a(1):"undefined"!=typeof r&&e(1,r),i=co(pe(c.d.output)),s?s(i):"undefined"!=typeof r&&postMessage({action:Do,callback_num:r,result:"string"!=typeof i?i.slice(0):i})}var n,i,o,r,s,a,u,l,c=fo(new vo),h=arguments[0];"function"==typeof arguments[1]?(s=arguments[1],"function"==typeof arguments[2]&&(a=arguments[2])):r=arguments[1],i=b(lr,0,-1,h),c.d=_t(new gt,i),a?a(0):"undefined"!=typeof r&&e(0,r),l=po(c.d.length_0)>-1,setTimeout(t,0)}function go(){return is}function vo(){}function bo(){!!$stats&&$stats({moduleName:xo,subSystem:"startup",evtGroup:"moduleStartup",millis:(new Date).getTime(),type:"onModuleLoadStart",className:"org.dellroad.lzma.demo.client.LZMADemo"})}function yo(e,t,n){if(xo=t,So=n,e)try{bo()}catch(i){e(t)}else bo()}function wo(){}var xo,So,Lo,Po=1,Do=2,Mo=3,Co=[0,-0x8000000000000000],ko=[4294967295,-4294967296],Bo=[0,0],To=[1,0],Eo=[4,0],Ro=[4096,0],Io=[16777215,0],Oo=[16777216,0],Ho=[4278190080,0],zo=[4294967295,0],Ao=[4294967295,0x7fffffff00000000];Lo=n.prototype={},Lo.getClass$=t,Lo.typeMarker$=wo,Lo.typeId$=1,Lo=o.prototype=new n,Lo.getClass$=i,Lo.typeId$=3,Lo.detailMessage=null,Lo=s.prototype=new o,Lo.getClass$=r,Lo.typeId$=4,Lo=l.prototype=new s,Lo.getClass$=u,Lo.typeId$=5,Lo=d.prototype=new l,Lo.getClass$=h,Lo.typeId$=6,Lo=w.prototype=new n,Lo.getClass$=g,Lo.typeId$=0,Lo.arrayClass$=null,Lo.length=0,Lo.queryId$=0;var No,$o,Fo,Yo,jo,Vo,Wo,Zo,Go,qo,Uo,Jo=[{},{},{1:1},{2:1},{2:1},{2:1},{2:1},{2:1,10:1},{2:1},{2:1},{2:1},{2:1},{2:1},{2:1,11:1},{2:1},{2:1},{2:1},{4:1},{5:1},{6:1},{7:1},{8:1},{9:1}];Lo=ie.prototype=new n,Lo.getClass$=ne,Lo.typeId$=0,Lo=le.prototype=new ie,Lo.getClass$=ue,Lo.typeId$=0,Lo.buf=null,Lo.count=0,Lo.pos=0,Lo=he.prototype=new n,Lo.getClass$=ce,Lo.typeId$=0,Lo=ve.prototype=new he,Lo.getClass$=ge,Lo.typeId$=0,Lo.buf=null,Lo.count=0,Lo=we.prototype=new s,Lo.getClass$=ye,Lo.typeId$=7,Lo=Le.prototype=new l,Lo.getClass$=Se,Lo.typeId$=8,Lo=Me.prototype=new l,Lo.getClass$=De,Lo.typeId$=9,Lo=Ee.prototype=new n,Lo.getClass$=Te,Lo.typeId$=0,Lo.typeName=null,Lo=Ie.prototype=new l,Lo.getClass$=Re,Lo.typeId$=12,Lo=He.prototype=new n,Lo.getClass$=Oe,Lo.typeId$=0,Lo=Ne.prototype=new l,Lo.getClass$=Ae,Lo.typeId$=13,Lo=Fe.prototype=new l,Lo.getClass$=$e,Lo.typeId$=14,Lo=je.prototype=new l,Lo.getClass$=Ye,Lo.typeId$=15,Lo=Ge.prototype=new l,Lo.getClass$=Ze,Lo.typeId$=16,Lo=String.prototype,Lo.getClass$=Je,Lo.typeId$=2,Lo=Ke.prototype=new n,Lo.getClass$=Xe,Lo.typeId$=0,Lo=it.prototype=new He,Lo.getClass$=nt,Lo.typeId$=0,Lo.dictionarySize=0,Lo.fb=0,Lo.lc=0,Lo.lp=0,Lo.matchFinder=0,Lo.pb=0,Lo=at.prototype=new n,Lo.getClass$=st,Lo.typeId$=0,Lo.chunker=null,Lo=ct.prototype=new at,Lo.getClass$=lt,Lo.typeId$=0,Lo.output=null,Lo=pt.prototype=new n,Lo.getClass$=ft,Lo.typeId$=0,Lo.chunker=null,Lo.exception=null,Lo.length_0=Bo,Lo=gt.prototype=new pt,Lo.getClass$=mt,Lo.typeId$=0,Lo.output=null,Lo=Mt.prototype=new n,Lo.getClass$=Dt,Lo.typeId$=0,Lo._blockSize=0,Lo._bufferBase=null,Lo._bufferOffset=0,Lo._keepSizeAfter=0,Lo._keepSizeBefore=0,Lo._pointerToLastSafePosition=0,Lo._pos=0,Lo._posLimit=0,Lo._stream=null,Lo._streamEndWasReached=!1,Lo._streamPos=0,Lo=zt.prototype=new Mt,Lo.getClass$=Ht,Lo.typeId$=0,Lo.HASH_ARRAY=!0,Lo._cutValue=255,Lo._cyclicBufferPos=0,Lo._cyclicBufferSize=0,Lo._hash=null,Lo._hashMask=0,Lo._hashSizeSum=0,Lo._matchMaxLen=0,Lo._son=null,Lo.kFixHashSize=66560,Lo.kMinMatchCheck=4,Lo.kNumHashDirectBytes=0;var Qo;Lo=Gt.prototype=new n,Lo.getClass$=Zt,Lo.typeId$=0,Lo._buffer=null,Lo._pos=0,Lo._stream=null,Lo._streamPos=0,Lo._windowSize=0,Lo=nn.prototype=new n,Lo.getClass$=tn,Lo.typeId$=0,Lo.alive=!1,Lo.decoder=null,Lo.encoder=null,Lo=fn.prototype=new n,Lo.getClass$=dn,Lo.typeId$=0,Lo.m_DictionarySize=-1,Lo.m_DictionarySizeCheck=-1,Lo.m_PosStateMask=0,Lo.nowPos64=Bo,Lo.outSize=Bo,Lo.prevByte=0,Lo.rep0=0,Lo.rep1=0,Lo.rep2=0,Lo.rep3=0,Lo.state=0,Lo=bn.prototype=new n,Lo.getClass$=vn,Lo.typeId$=0,Lo.m_NumPosStates=0,Lo=Ln.prototype=new n,Lo.getClass$=Sn,Lo.typeId$=0,Lo.m_Coders=null,Lo.m_NumPosBits=0,Lo.m_NumPrevBits=0,Lo.m_PosMask=0,Lo=kn.prototype=new n,Lo.getClass$=Cn,Lo.typeId$=17,Lo=ii.prototype=new n,Lo.getClass$=ni,Lo.typeId$=0,Lo._additionalOffset=0,Lo._alignPriceCount=0,Lo._dictionarySize=4194304,Lo._dictionarySizePrev=-1,Lo._distTableSize=44,Lo._finished=!1,Lo._inStream=null,Lo._longestMatchLength=0,Lo._longestMatchWasFound=!1,Lo._matchFinder=null,Lo._matchFinderType=1,Lo._matchPriceCount=0,Lo._needReleaseMFStream=!1,Lo._numDistancePairs=0,Lo._numFastBytes=32,Lo._numFastBytesPrev=-1,Lo._numLiteralContextBits=3,Lo._numLiteralPosStateBits=0,Lo._optimumCurrentIndex=0,Lo._optimumEndIndex=0,Lo._posStateBits=2,Lo._posStateMask=3,Lo._previousByte=0,Lo._state=0,Lo._writeEndMark=!1,Lo.backRes=0,Lo.nowPos64=Bo;var Xo;Lo=li.prototype=new n,Lo.getClass$=ui,Lo.typeId$=0,Lo=_i.prototype=new li,Lo.getClass$=pi,Lo.typeId$=0,Lo._tableSize=0,Lo=yi.prototype=new n,Lo.getClass$=bi,Lo.typeId$=0,Lo.m_Coders=null,Lo.m_NumPosBits=0,Lo.m_NumPrevBits=0,Lo.m_PosMask=0,Lo=Di.prototype=new n,Lo.getClass$=Pi,Lo.typeId$=18,Lo=Bi.prototype=new n,Lo.getClass$=ki,Lo.typeId$=19,Lo.BackPrev=0,Lo.BackPrev2=0,Lo.Backs0=0,Lo.Backs1=0,Lo.Backs2=0,Lo.Backs3=0,Lo.PosPrev=0,Lo.PosPrev2=0,Lo.Prev1IsChar=!1,Lo.Prev2=!1,Lo.Price=0,Lo.State=0,Lo=Hi.prototype=new n,Lo.getClass$=Oi,Lo.typeId$=20,Lo.Models=null,Lo.NumBitLevels=0,Lo=Wi.prototype=new n,Lo.getClass$=Vi,Lo.typeId$=21,Lo.Models=null,Lo.NumBitLevels=0,Lo=Qi.prototype=new n,Lo.getClass$=Ji,Lo.typeId$=0,Lo.Code=0,Lo.Range=0,Lo.Stream=null,Lo=lo.prototype=new n,Lo.getClass$=ao,Lo.typeId$=0,Lo.Low=Bo,Lo.Range=0,Lo.Stream=null,Lo._cache=0,Lo._cacheSize=0,Lo._position=Bo;var Ko;Lo=vo.prototype=new n,Lo.getClass$=go,Lo.typeId$=0,Lo.c=null,Lo.d=null;var er=ke("java.lang.","Object"),tr=ke("java.lang.","Throwable"),nr=ke("java.lang.","Exception"),ir=ke("java.lang.","RuntimeException"),or=ke("com.google.gwt.core.client.","JavaScriptException"),rr=ke("com.google.gwt.core.client.","JavaScriptObject$"),sr=Ce("","[[D"),ar=ke("java.io.","InputStream"),ur=ke("java.io.","ByteArrayInputStream"),lr=Ce("","[B"),cr=ke("java.io.","OutputStream"),hr=ke("java.io.","ByteArrayOutputStream"),dr=ke("java.io.","IOException"),fr=ke("java.lang.","Enum"),pr=ke("java.lang.","ArithmeticException"),_r=ke("java.lang.","ArrayStoreException"),mr=Ce("","[C"),gr=ke("java.lang.","Class"),vr=ke("java.lang.","ClassCastException"),br=ke("java.lang.","IllegalArgumentException"),yr=ke("java.lang.","IllegalStateException"),wr=ke("java.lang.","IndexOutOfBoundsException"),xr=Ce("","[I"),Sr=ke("java.lang.","NullPointerException"),Lr=ke("java.lang.","String"),Pr=ke("java.lang.","StringBuilder"),Dr=ke("org.dellroad.lzma.client.SevenZip.Compression.LZ.","InWindow"),Mr=ke("org.dellroad.lzma.client.SevenZip.Compression.LZ.","BinTree"),Cr=ke("org.dellroad.lzma.client.SevenZip.Compression.LZ.","OutWindow"),kr=ke("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Chunker"),Br=Ce("","[S"),Tr=Ce("[Lorg.dellroad.lzma.client.SevenZip.Compression.RangeCoder.","BitTreeDecoder;"),Er=ke("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Decoder"),Rr=ke("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Decoder$LenDecoder"),Ir=Ce("[Lorg.dellroad.lzma.client.SevenZip.Compression.LZMA.","Decoder$LiteralDecoder$Decoder2;"),Or=ke("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Decoder$LiteralDecoder"),Hr=ke("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Decoder$LiteralDecoder$Decoder2"),zr=Ce("[Lorg.dellroad.lzma.client.SevenZip.Compression.LZMA.","Encoder$Optimal;"),Ar=Ce("[Lorg.dellroad.lzma.client.SevenZip.Compression.RangeCoder.","BitTreeEncoder;"),Nr=Ce("","[J"),$r=Ce("","[Z"),Fr=ke("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Encoder"),Yr=Ce("[Lorg.dellroad.lzma.client.SevenZip.Compression.LZMA.","Encoder$LiteralEncoder$Encoder2;"),jr=ke("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Encoder$LiteralEncoder"),Vr=ke("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Encoder$LiteralEncoder$Encoder2"),Wr=ke("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Encoder$LenEncoder"),Zr=ke("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Encoder$LenPriceTableEncoder"),Gr=ke("org.dellroad.lzma.client.SevenZip.Compression.LZMA.","Encoder$Optimal"),qr=ke("org.dellroad.lzma.client.SevenZip.Compression.RangeCoder.","BitTreeDecoder"),Ur=ke("org.dellroad.lzma.client.SevenZip.Compression.RangeCoder.","BitTreeEncoder"),Jr=ke("org.dellroad.lzma.client.SevenZip.Compression.RangeCoder.","Decoder"),Qr=ke("org.dellroad.lzma.client.SevenZip.Compression.RangeCoder.","Encoder"),Xr=Be("org.dellroad.lzma.client.","CompressionMode"),Kr=ke("org.dellroad.lzma.client.","LZMACompressor"),es=ke("org.dellroad.lzma.client.","LZMAByteArrayCompressor"),ts=ke("org.dellroad.lzma.client.","LZMADecompressor"),ns=ke("org.dellroad.lzma.client.","LZMAByteArrayDecompressor"),is=ke("org.dellroad.lzma.demo.client.","LZMADemo");yo(function(){},"lzma_demo","");var os=function(){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}var t=[{dictionarySize:16,fb:64,matchFinder:0,lc:3,lp:0,pb:2},{dictionarySize:20,fb:64,matchFinder:0,lc:3,lp:0,pb:2},{dictionarySize:19,fb:64,matchFinder:1,lc:3,lp:0,pb:2},{dictionarySize:20,fb:64,matchFinder:1,lc:3,lp:0,pb:2},{dictionarySize:21,fb:128,matchFinder:1,lc:3,lp:0,pb:2},{dictionarySize:22,fb:128,matchFinder:1,lc:3,lp:0,pb:2},{dictionarySize:23,fb:128,matchFinder:1,lc:3,lp:0,pb:2},{dictionarySize:24,fb:255,matchFinder:1,lc:3,lp:0,pb:2},{dictionarySize:25,fb:255,matchFinder:1,lc:3,lp:0,pb:2}];return function(n){return e(n)?1>n?n=1:n>9&&(n=9):n=1,t[n-1]}}();return"undefined"==typeof onmessage||"undefined"!=typeof window&&"undefined"!=typeof window.document||!function(){onmessage=function(e){e&&e.data&&(e.data.action===Po?LZMA.compress(e.data.data,e.data.mode,e.data.callback_num):e.data.action===Do&&LZMA.decompress(e.data.data,e.data.callback_num))}}(),{compress:_o,decompress:mo}}();this.LZMA=LZMA,this.LZMA_WORKER=LZMA;